parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lTk1":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomHelper=void 0;var r=function(){function n(){e(this,n)}return t(n,null,[{key:"div",value:function(e,n,t){var r=document.createElement("div");return r.className=e,t&&(r.innerHTML=t),n&&n.appendChild(r),r}},{key:"svg",value:function(e,n,t){var r=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&r.setAttribute("class",t),n&&n.appendChild(r),r}},{key:"style",value:function(e,n){var t=document.createElement("style");return n&&(t.innerHTML=n),e&&e.appendChild(t),t}}]),n}();exports.DomHelper=r;
},{}],"cJDT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=void 0;var e=require("./helpers");function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}var o='<svg xmlns="http://www.w3.org/2000/svg" style="fill: #48AAF0;" viewBox="0 0 330 330"><path d="M325.606 304.394L223.328 202.117c16.707-21.256 26.683-48.041 26.683-77.111C250.011 56.077 193.934 0 125.005 0 56.077 0 0 56.077 0 125.006 0 193.933 56.077 250.01 125.005 250.01c29.07 0 55.855-9.975 77.11-26.681l102.278 102.277c2.929 2.93 6.768 4.394 10.607 4.394s7.678-1.464 10.606-4.394c5.859-5.857 5.859-15.355 0-21.212zM30 125.006C30 72.619 72.619 30 125.005 30c52.387 0 95.006 42.619 95.006 95.005 0 52.386-42.619 95.004-95.006 95.004C72.619 220.01 30 177.391 30 125.006z"/><path d="M175.01 110.006H75c-8.284 0-15 6.716-15 15s6.716 15 15 15h100.01c8.284 0 15-6.716 15-15s-6.716-15-15-15z"/></svg>',s="\n    .header {\n        position: relative;\n        display: flex;\n        font-weight: 600;\n        align-items: center;\n        min-height: 50px;\n    }\n    .header.--zoomed > .header-title {\n        opacity: 0;\n        font-size: 8px;\n        transform: translateY(-30px);\n    }\n    .header.--zoomed > .header-zoom {\n        opacity: 1;\n        font-size: 15px;\n        transform: translateY(0);\n    }\n    .header-title {\n        flex-grow: 1;\n        line-height: 50px;\n        font-size: 15px;\n        opacity: 1;\n        transform: translateY(0);\n        transition: 0.2s transform, 0.2s opacity, 0.2s font-size;\n    }\n    .header-zoom {\n        position: absolute;\n        left: 0;\n        top: 0;\n        font-size: 8px;\n        line-height: 50px;\n        color: #48AAF0;\n        display: flex;\n        align-items: center;\n        opacity: 0;\n        transform: translateY(30px);\n        transition: 0.2s transform, 0.2s opacity, 0.2s font-size;\n        cursor: pointer;\n    }\n    .header-zoom > svg {\n        margin-right: 10px;\n        width: 18px;\n        height: 18px;\n    }\n    .header-days {\n        position: absolute;\n        right: 0;\n        top: 0;\n        line-height: 50px;\n        font-size: 13px;\n        flex-shrink: 0;\n    }\n    .header-days.--show-down {\n        animation: show-up 0.2s 1 ease-in-out;\n    }\n    .header-days.--show-up {\n        animation: show-down 0.2s 1 ease-in-out;\n    }\n    .header-days.--hide-down {\n        animation: hide-up 0.2s 1 ease-in-out;\n    }\n    .header-days.--hide-up {\n        animation: hide-down 0.2s 1 ease-in-out;\n    }\n    @keyframes show-up {\n        0% {transform:translateY(-30px);opacity:0;font-size:7px;}\n        100%{transform:translateY(0);opacity:1;font-size:13px;}\n    }\n    @keyframes show-down {\n        0% {transform:translateY(30px);opacity:0;font-size:7px;}\n        100%{transform:translateY(0);opacity:1;font-size:13px;}\n    }\n    @keyframes hide-up {\n        0% {transform:translateY(0);opacity:1;font-size:13px;}\n        100%{transform:translateY(-30px);opacity:0;font-size:7px;}\n    }\n    @keyframes hide-down {\n        0% {transform:translateY(0);opacity:1;font-size:13px;}\n        100%{transform:translateY(30px);opacity:0;font-size:7px;}\n    }\n",i=function(){function t(a,o){n(this,t),this.setProps=o,e.DomHelper.style(a.shadow,s),this.header=e.DomHelper.div("header",a.target)}return a(t,[{key:"render",value:function(n){var t=this;this.title=e.DomHelper.div("header-title",this.header,n.title),e.DomHelper.div("header-zoom",this.header,"".concat(o,"Zoom out")).onclick=function(){return t.zoomOut()},this.headerDays=e.DomHelper.div("header-days",this.header)}},{key:"zoomOut",value:function(){this.setProps({isZoomed:!1})}},{key:"isZoomed",value:function(e){e.isZoomed?this.header.classList.add("--zoomed"):this.header.classList.remove("--zoomed")}},{key:"range",value:function(n){var t=this,a=n.timeLine;if(a&&a.length){var o,s=Math.floor(a.length*n.startRange/100),i=Math.ceil(a.length*n.endRange/100),r=new Date(a[s]),h=new Date(a[i-1]),d=r.getDate(),l=h.getDate();if(a[i-1]-a[s]<9e7&&d===l){var p=n.daysLabels[r.getDay()],c=n.monthsLabels[r.getMonth()],f=r.getFullYear();o="".concat(p,", ").concat(d," ").concat(c," ").concat(f)}else{var m=n.monthsLabels[r.getMonth()],u=n.monthsLabels[h.getMonth()],y=r.getFullYear(),g=h.getFullYear();o="".concat(d," ").concat(m," ").concat(y," - ").concat(l," ").concat(u," ").concat(g)}if(o!==this.prevDaysVal&&this.prevDaysVal){this.prevDaysVal=o;var v=n.startRange>this.prevStartRange;this.prevStartRange=n.startRange;var x=e.DomHelper.div("header-days ".concat(v?"--show-up":"--show-down"),this.header,o);this.headerDays.addEventListener("animationend",function(){t.header.removeChild(t.headerDays),t.headerDays=x}),this.headerDays.classList.add(v?"--hide-down":"--hide-up")}else this.prevDaysVal=o,this.headerDays.innerHTML=o}else this.headerDays.innerHTML=null}},{key:"update",value:function(e){var n=this;this.isZoomed(e),clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.range(e)},50)}},{key:"init",value:function(e){this.render(e),this.range(e)}}]),t}();exports.Header=i;
},{"./helpers":"lTk1"}],"FvFk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Loading=void 0;var n=require("./helpers");function e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i(n,e){for(var i=0;i<e.length;i++){var t=e[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function t(n,e,t){return e&&i(n.prototype,e),t&&i(n,t),n}var o="\n    .loading{\n        display: flex;\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        font-size: 25px;\n        align-items: center;\n        justify-content: center;\n        opacity: 0;\n        transform: translateY(-30px);\n        transition: 0.2s transform, 0.2s opacity;\n        pointer-events: none;\n    }\n    .loading.--visible {\n        opacity: 1;\n        transform: translateY(0);\n    }\n",a=function(){function i(t,a){e(this,i),this.setProps=a,n.DomHelper.style(t.shadow,o),this.loading=n.DomHelper.div("loading",t.target,"Loading..."),this.isLoading(t)}return t(i,[{key:"isLoading",value:function(n){n.isLoading?this.loading.classList.add("--visible"):this.loading.classList.remove("--visible")}},{key:"update",value:function(n){this.isLoading(n)}},{key:"init",value:function(n){this.isLoading(n)}}]),i}();exports.Loading=a;
},{"./helpers":"lTk1"}],"vMci":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Switchers=void 0;var e=require("./helpers");function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),r.forEach(function(n){t(e,n,i[n])})}return e}function t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){return o(e)||s(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,n,t){return n&&c(e.prototype,n),t&&c(e,t),e}var h='<svg class="icon" style="margin-right:6px; width: 12px; height: 12px;vertical-align: middle;fill: #fff;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M896 143.8c-34.6-26.8-83-18.6-108.2 18.2L428 688.4l-198.2-214.6c-29.2-33.2-78.2-34.8-109.4-3.6-31.2 31-32.8 83.2-3.4 116.2 0 0 240.8 267.2 275.4 294 34.6 26.8 83 18.6 108.2-18.2l412.6-603.4C938.4 221.8 930.6 170.4 896 143.8z" /></svg>',p="\n    .switchers {\n        margin-top: 17px;\n        display: flex;\n        flex-wrap: wrap;\n        opacity: 1;\n        transition: 0.2s opacity;\n    }\n    .switchers.--off {\n        opacity: 0;\n        pointer-events: none;\n    }\n    .switchers.--abs {\n        position:relative;\n        margin-top: -40px;\n    }\n    .switcher {\n        height: 36px;\n        border-radius: 18px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 11px;\n        font-weight: 600;\n        position: relative;\n        cursor: pointer;\n        margin: 6px;\n        flex-shrink: 0;\n        white-space: nowrap;\n    }\n    .switcher.--off .switcher-front {\n        opacity: 0;\n        transform: translateY(-30px);\n        pointer-events: none;\n    }\n    .switcher-back {\n        padding: 0 24px;\n        line-height: 32px;\n        border: 2px solid;\n        border-radius: 18px;\n        white-space: nowrap;\n    }\n    .switcher-front {\n        white-space: nowrap;\n        border-radius: 18px;\n        left: 0;\n        top: 0;\n        position: absolute;\n        padding: 0 17px;\n        line-height: 36px;\n        color: #fff;\n        display: flex;\n        align-items: center;\n        transform: translateY(0px);\n        opacity: 1;\n        transition: 0.3s transform, 0.3s opacity;\n    }\n",f=function(){function n(t,i,r){var s=this;a(this,n),this.line=t,this.props=i,this.setProps=r,this.switcher=e.DomHelper.div("switcher",this.props.target),this.switcher.onclick=function(){return s.onClick()},this.hiddenLines(this.props),this.render()}return l(n,[{key:"render",value:function(){var n=e.DomHelper.div("switcher-back",this.switcher,this.line.name);n.style.borderColor=this.line.color,n.style.color=this.line.color,e.DomHelper.div("switcher-front",this.switcher,"".concat(h).concat(this.line.name)).style.backgroundColor=this.line.color}},{key:"onClick",value:function(){var e=i(this.props.hiddenLines),n=e.indexOf(this.line.id);n>-1?e.splice(n,1):e.push(this.line.id),this.setProps({hiddenLines:e})}},{key:"hiddenLines",value:function(e){e.hiddenLines.indexOf(this.line.id)>-1?this.switcher.classList.add("--off"):this.switcher.classList.remove("--off")}},{key:"update",value:function(e){this.hiddenLines(e),this.props=e}}]),n}(),u=function(){function t(n,i){a(this,t),this.target=n.target,this.setProps=i,e.DomHelper.style(n.shadow,p)}return l(t,[{key:"render",value:function(e){var t=this;this.switcherList=e.lines.map(function(i){return new f(i,n({},e,{target:t.switchers}),t.setProps)})}},{key:"update",value:function(e){e.zoomInit&&(1===e.lines.length?this.switchers.classList.add("--off"):this.switchers.classList.remove("--off"),this.switchers.innerHTML=null,this.render(e)),this.switcherList.forEach(function(n){n.update(e)})}},{key:"init",value:function(n){this.switchers=e.DomHelper.div("switchers ".concat(1===n.lines.length?"--abs --off":""),this.target),this.render(n)}}]),t}();exports.Switchers=u;
},{"./helpers":"lTk1"}],"Y2Q9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Navigator=void 0;var t=require("./helpers");function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}var a=40,r=38,s=2,o="\n    .navigator {\n        height: ".concat(a,"px;\n        border-radius: 5px;\n        overflow: hidden;\n        position:relative;\n        opacity: 1;\n        transition: 0.2s opacity;\n    }\n    .navigator.--off {\n        opacity: 0;\n        pointer-events: none;\n    }\n    .nav-wrapper {\n        display: flex;\n        align-items: center;\n    }\n    .nav-left, .nav-right {\n        background-color: #E2EEF9;\n        opacity: 0.6;\n        height: ").concat(r,"px;\n        flex-shrink:0;\n        width: 100%;\n        transform: translateX(5px);\n    }\n    .--night .nav-left, .--night .nav-right {\n        background-color: #304259;\n    }\n    .nav-right {\n        transform: translateX(-5px);\n    }\n    .nav-right {\n        flex-shrink:0;\n        width: 100%;\n        height: ").concat(r,"px;\n        background-color: #E2EEF9;\n        opacity: 0.6;\n    }\n    .nav-selector {\n        flex-shrink:0;\n        height: ").concat(r,"px;\n        border: 1px solid #C0D1E1;\n        border-left-width: 10px;\n        border-right-width: 10px;\n        border-radius: 5px;\n        z-index: 1;\n        cursor: pointer;\n        position:relative;\n    }\n    .--night .nav-selector {\n        border-color: #56626D;\n    }\n    .nav-selector:before, .nav-selector:after {\n        content: '';\n        position: absolute;\n        left: -6px;\n        top: 15px;\n        width:2px;\n        height:10px;\n        background-color:#fff;\n        border-radius: 2px;\n    }\n    .nav-selector:after {\n        left: auto;\n        right: -6px;\n    }\n    .nav-click-left, .nav-click-right {\n        position: absolute;\n        left: -38px;\n        width: 40px;\n        top: 0;\n        height: 100%;\n    }\n    .nav-click-right {\n        left: auto;\n        right: -38px;\n    }\n    .nav-svg-wrapper {\n        border-radius: 5px;\n        overflow: hidden;\n        position: absolute;\n        left: 0;\n        top: 1px;\n        width: 100%;\n        height: ").concat(r,"px;\n        overflow: hidden;\n        transform: scale(1, -1);\n    }\n    .nav-svg {\n        position: absolute;\n        left: 0;\n        top: 0;\n    }\n    .nav-svg-path {\n        vector-effect: non-scaling-stroke;\n        stroke-width: ").concat(s,";\n        opacity: 1;\n        transition: 0.2s opacity;\n    }\n    .nav-svg-path.--off {\n        opacity: 0;\n    }\n"),c=function(){function e(i,a){var r=this;n(this,e),this.setProps=a,document.addEventListener("mouseup",function(){return r.mouseUp()}),document.addEventListener("mousemove",function(t){return r.mouseMove(t)}),document.addEventListener("touchend",function(){return r.mouseUp()}),document.addEventListener("touchmove",function(t){return r.mouseMove(t)}),t.DomHelper.style(i.shadow,o),this.navigator=t.DomHelper.div("navigator",i.target)}return i(e,[{key:"mouseDown",value:function(t,n){t.stopPropagation(),this.clickX="number"==typeof t.clientX?t.clientX:t.touches[0].clientX,this.clickProps=this.props,this.clickedSide=n,document.body.style.userSelect="none"}},{key:"mouseUp",value:function(){document.body.style.userSelect="",this.clickX=null}},{key:"mouseMove",value:function(t){if("number"==typeof this.clickX){var n,e=this.clickProps.width*this.clickProps.startRange/100,i=this.clickProps.width*this.clickProps.endRange/100,a=("number"==typeof t.clientX?t.clientX:t.touches[0].clientX)-this.clickX,r=i+a,s=100*(e+a)/this.clickProps.width,o=100*r/this.clickProps.width,c=o-s;if(1===this.clickedSide){if(s<0&&(s=0),s+10>this.clickProps.endRange&&(s=this.clickProps.endRange-10),s===this.clickProps.startRange)return;n={startRange:s,endRange:this.clickProps.endRange}}else if(3===this.clickedSide){if(o>100&&(o=100),o-10<this.clickProps.startRange&&(o=this.clickProps.startRange+10),o===this.clickProps.newEndRange)return;n={endRange:o,startRange:this.clickProps.startRange}}else{if(s<0&&(s=0,o=c),o>100&&(o=100,s=100-c),s===this.clickProps.startRange)return;n={startRange:s,endRange:o}}n.startRange===this.clickProps.startRange&&n.endRange===this.clickProps.endRange||(n.scaleRange=(n.endRange-n.startRange)/100,n.chartWidth=this.clickProps.width/n.scaleRange,n.left=n.chartWidth*n.startRange/100,n.hoveredIndex=null,this.setProps(n))}}},{key:"hiddenLines",value:function(t){var n=this;t.lines.forEach(function(e){t.hiddenLines.indexOf(e.id)>-1?n.paths[e.id].path.classList.add("--off"):n.paths[e.id].path.classList.remove("--off")})}},{key:"renderLines",value:function(n){this.navSvgWrapper.innerHTML=null,this.svg=t.DomHelper.svg("svg",this.navSvgWrapper,"nav-svg"),this.svg.setAttribute("width",n.width),this.svg.setAttribute("height",r),this.paths={};for(var e=(r-s)/n.allMaxY,i=0;i<n.lines.length;i+=1){var a=n.lines[i];(n.stacked||n.percentage)&&(a=n.lines[n.lines.length-1-i]),n.yScaled&&i===n.lines.length-1&&(e=(r-s)/n.yScaledAllMaxY);var o=t.DomHelper.svg("path",this.svg,"nav-svg-path");a.path&&(o.setAttribute("d",a.path),o.setAttribute("transform","scale(1,".concat(e*a.fixScaleY,")"))),o.setAttribute("stroke",a.color),"area"===a.type||"bar"===a.type?o.setAttribute("fill",a.color):o.setAttribute("fill","none"),this.paths[a.id]={path:o}}this.navWrapper.style.transform="translateX(-".concat(100-n.startRange,"%)"),this.navSelector.style.width="calc(".concat(n.endRange-n.startRange,"% - 20px)")}},{key:"render",value:function(){var n=this;this.navSvgWrapper=t.DomHelper.div("nav-svg-wrapper",this.navigator),this.navWrapper=t.DomHelper.div("nav-wrapper",this.navigator),t.DomHelper.div("nav-left",this.navWrapper),this.navSelector=t.DomHelper.div("nav-selector",this.navWrapper),this.navSelector.onmousedown=function(t){return n.mouseDown(t,2)},this.navSelector.ontouchstart=function(t){return n.mouseDown(t,2)},t.DomHelper.div("nav-right",this.navWrapper),this.navClickLeft=t.DomHelper.div("nav-click-left",this.navSelector),this.navClickLeft.onmousedown=function(t){return n.mouseDown(t,1)},this.navClickLeft.ontouchstart=function(t){return n.mouseDown(t,1)},this.navClickRight=t.DomHelper.div("nav-click-right",this.navSelector),this.navClickRight.onmousedown=function(t){return n.mouseDown(t,3)},this.navClickRight.ontouchstart=function(t){return n.mouseDown(t,3)}}},{key:"range",value:function(t){this.navWrapper.style.transform="translateX(-".concat(100-t.startRange,"%)"),this.navSelector.style.width="calc(".concat(t.endRange-t.startRange,"% - 20px)");var n=(r-s)/t.allMaxY;if(t.stacked||t.percentage||t.zoomInit)for(var e=0;e<t.lines.length;e+=1){var i=t.lines[e];(t.stacked||t.percentage)&&(i=t.lines[t.lines.length-1-e]),t.yScaled&&e===t.lines.length-1&&(n=(r-s)/t.yScaledAllMaxY),-1===t.hiddenLines.indexOf(i.id)&&i.path&&(this.paths[i.id].path.setAttribute("d",i.path),this.paths[i.id].path.setAttribute("transform","scale(1,".concat(n*i.fixScaleY,")")))}}},{key:"update",value:function(t){var n=this;t.zoomInit&&(this.renderLines(t),t.hideNavigator?this.navigator.classList.add("--off"):this.navigator.classList.remove("--off")),this.hiddenLines(t),requestAnimationFrame(function(){n.range(t),n.props=t})}},{key:"init",value:function(t){this.render(),this.renderLines(t),this.props=t}}]),e}();exports.Navigator=c;
},{"./helpers":"lTk1"}],"+d6E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AxisX=void 0;var t=require("./helpers");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var s="\n    .axis-x {\n        line-height: 25px;\n        color: #8E8E93;\n        font-size: 9px;\n        display: flex;\n        position: absolute;\n        left: 0;\n        height: 25px;\n        bottom: 10px;\n    }\n    .axis-x-item {\n        position: absolute;\n        top: 0;\n        left: 0;\n        margin-left: -30px;\n        text-align: center;\n        width: 60px;\n        transition: 0.2s opacity;\n    }\n    .axis-x-item.--show {\n        animation: axis-x-show 0.2s 1 ease-in-out;\n    }\n    .axis-x-item.--hide {\n        animation: axis-x-hide 0.2s 1 ease-in-out;\n    }\n    @keyframes axis-x-show {\n        0% {opacity:0;}\n        100%{opacity:1;}\n    }\n    @keyframes axis-x-hide {\n        0% {opacity:1;}\n        100%{opacity:0;}\n    }\n",o=function(){function i(n,o){e(this,i),this.setProps=o,this.target=n.target,t.DomHelper.style(n.shadow,s),this.axisX=t.DomHelper.div("axis-x",this.target),this.items=[]}return n(i,[{key:"render",value:function(e){for(var i,n=this,s=e.chartWidth/this.blockAmount,o=function(o){var a=o*e.chartWidth/(e.timeLine.length-1);if(!i&&0!==i||i+s<a){if(n.items[o])n.items[o].classList.remove("--hide"),n.items[o].classList.add("--show");else{var r,c=new Date(e.timeLine[o]);r=e.isZoomed?"".concat(c.getHours()>9?c.getHours():"0".concat(c.getHours()),":").concat(c.getMinutes()>9?c.getMinutes():"0".concat(c.getMinutes())):"".concat(c.getDate()," ").concat(e.monthsLabels[c.getMonth()].substring(0,3)),n.items[o]=t.DomHelper.div("axis-x-item --show",n.axisX,r)}n.items[o].style.left="".concat(a,"px"),i=a}else n.items[o]&&(n.items[o].style.left="".concat(a,"px"),n.items[o].classList.remove("--show"),n.items[o].addEventListener("animationend",function(){n.items[o]&&(n.axisX.removeChild(n.items[o]),n.items[o]=null)}),n.items[o].classList.add("--hide"))},a=0;a<e.timeLine.length;a+=1)o(a)}},{key:"getBlockAmount",value:function(t){t.chartWidth/this.blockAmount>90&&(this.blockAmount*=2),t.chartWidth/this.blockAmount<45&&(this.blockAmount*=.5)}},{key:"update",value:function(t){if(t.zoomInit)for(this.axisX.innerHTML=null,this.items=[],this.blockAmount=2;t.chartWidth/this.blockAmount*2>90;)this.blockAmount*=2;this.getBlockAmount(t),this.render(t)}},{key:"init",value:function(t){for(this.blockAmount=2;t.chartWidth/this.blockAmount*2>90;)this.blockAmount*=2;this.getBlockAmount(t),this.render(t)}}]),i}();exports.AxisX=o;
},{"./helpers":"lTk1"}],"yzz7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AxisY=void 0;var t=require("./helpers");function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}var s="\n    .axis-y {\n        position: absolute;\n        left: 16px;\n        top: 0;\n        bottom: 35px;\n        right: 16px;\n        opacity: 1;\n        transition: 0.2s opacity;\n        pointer-events: none;\n        z-index: 1000;\n    }\n    .axis-y.--off {\n        opacity: 0;\n    }\n    .--night .axis-y-item {\n        border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n    }\n    .axis-y-item {\n        position: absolute;\n        left: 0;\n        right: 0;\n        border-bottom: 1px solid rgba(24, 45, 59, 0.1);\n        line-height: 20px;\n        font-size: 9px;\n        color: #8E8E93;\n    }\n    .axis-y-item.--right {\n        text-align: end;\n        border-bottom: 1px solid rgba(24, 45, 59, 0.05);\n    }\n    .--night .axis-y-item.--right {\n        border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n    }\n    .axis-y-items {\n        position: absolute;\n        left: 0;\n        top: 0;\n        bottom: 0;\n        right: 0;\n    }\n    .axis-y-items.--show-down {\n        animation: axis-show-up 0.2s 1 ease-in-out;\n    }\n    .axis-y-items.--show-up {\n        animation: axis-show-down 0.2s 1 ease-in-out;\n    }\n    .axis-y-items.--hide-down {\n        animation: axis-hide-up 0.2s 1 ease-in-out;\n    }\n    .axis-y-items.--hide-up {\n        animation: axis-hide-down 0.2s 1 ease-in-out;\n    }\n    @keyframes axis-show-up {\n        0% {transform:translateY(-30px);opacity:0;}\n        100%{transform:translateY(0);opacity:1;}\n    }\n    @keyframes axis-show-down {\n        0% {transform:translateY(30px);opacity:0;}\n        100%{transform:translateY(0);opacity:1;}\n    }\n    @keyframes axis-hide-up {\n        0% {transform:translateY(0);opacity:1;}\n        100%{transform:translateY(-30px);opacity:0;}\n    }\n    @keyframes axis-hide-down {\n        0% {transform:translateY(0);opacity:1;}\n        100%{transform:translateY(30px);opacity:0;}\n    }\n",a=function(){function e(n,a,o){i(this,e),this.isRight=o,this.setProps=a,t.DomHelper.style(n.shadow,s),this.axisY=t.DomHelper.div("axis-y",n.target)}return n(e,[{key:"fillItems",value:function(t,i){var e,n;i.percentage?(n=5,e=i.chartHeight/(n-1)):(n=6,e=(i.chartHeight-20)/(n-1));for(var s=i.chartHeight/this.maxY,a=1;a<n;a+=1){var o=a*e/s;o=o>1e6?"".concat((o/1e6).toFixed(2),"KK"):o>1e3?"".concat((o/1e3).toFixed(2),"K"):"".concat(Math.round(o)),i.percentage&&(o="".concat(Math.round(100*a/(n-1)))),this.createItem(i,t,o).style.bottom=a*e}}},{key:"createItem",value:function(i,e,n){var s=t.DomHelper.div("axis-y-item".concat(this.isRight?" --right":""),e,n);return i.yScaled&&!this.isRight?s.style.color=i.lines[0].color:i.yScaled&&(s.style.color=i.lines[i.lines.length-1].color),s}},{key:"updateAxis",value:function(i,e){var n=this,s=t.DomHelper.div("axis-y-items ".concat(e?"--show-up":"--show-down"),this.axisY);this.fillItems(s,i),this.axisItems.addEventListener("animationend",function(){n.axisY.removeChild(n.axisItems),n.axisItems=s}),this.axisItems.classList.add(e?"--hide-down":"--hide-up")}},{key:"update",value:function(t){var i=this;this.isRight&&!t.yScaled||(t.lines.length===t.hiddenLines.length||this.isRight&&t.yScaled&&t.hiddenLines.indexOf(t.lines[t.lines.length-1].id)>-1||!this.isRight&&t.yScaled&&t.lines.length-1===t.hiddenLines.length&&-1===t.hiddenLines.indexOf(t.lines[t.lines.length-1].id)?this.axisY.classList.add("--off"):this.axisY.classList.remove("--off"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){var e=i.isRight?t.yScaledRangeMaxY:t.rangeMaxY;if(e!==i.maxY){var n=e<i.maxY;i.maxY=e,i.updateAxis(t,n)}},50))}},{key:"init",value:function(i){!this.isRight||i.yScaled?(this.maxY=this.isRight?i.yScaledRangeMaxY:i.rangeMaxY,this.createItem(i,this.axisY,"0").style.bottom=0,this.axisItems=t.DomHelper.div("axis-y-items",this.axisY),this.fillItems(this.axisItems,i)):this.axisY.classList.add("--off")}}]),e}();exports.AxisY=a;
},{"./helpers":"lTk1"}],"MiIh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Lines=void 0;var t=require("./helpers");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=3,s="\n    .lines-svg {\n        opacity: 1;\n        transition: 0.2s opacity;\n        transform: scale(1, -1);\n    }\n    .lines-svg.--hover {\n        opacity: 0.5;\n    }\n    .line-svg-path {\n        vector-effect: non-scaling-stroke;\n        opacity: 1;\n        stroke-width: ".concat(a,";\n        transition: 0.2s opacity;\n    }\n    .line-svg-path.--off {\n        opacity: 0;\n    }\n"),r=function(){function i(n,a){e(this,i),this.setProps=a,this.target=n.target,t.DomHelper.style(n.shadow,s),this.svg=t.DomHelper.svg("svg",this.target,"lines-svg")}return n(i,[{key:"render",value:function(e){this.svg.setAttribute("width",e.chartWidth),this.svg.setAttribute("height",e.chartHeight),this.paths={},this.svg.innerHTML=null;for(var i=e.chartHeight/e.rangeMaxY,n=e.width/e.chartWidth,a=0;a<e.lines.length;a+=1){var s=e.lines[a];(e.stacked||e.percentage)&&(s=e.lines[e.lines.length-1-a]),e.yScaled&&a===e.lines.length-1&&(i=e.chartHeight/e.yScaledRangeMaxY);var r=t.DomHelper.svg("path",this.svg,"line-svg-path");s.path&&(r.setAttribute("d",s.path),r.setAttribute("transform","scale(".concat(1/n,",").concat(i*s.fixScaleY,")"))),r.setAttribute("stroke",s.color),"area"===s.type||"bar"===s.type?r.setAttribute("fill",s.color):r.setAttribute("fill","none"),this.paths[s.id]={path:r}}}},{key:"hiddenLines",value:function(t){var e=this;t.lines.forEach(function(i){var n=e.paths[i.id].path;t.hiddenLines.indexOf(i.id)>-1?n.classList.add("--off"):n.classList.remove("--off")})}},{key:"updateScale",value:function(t){var e=this;!t.hoveredIndex&&0!==t.hoveredIndex||"bar"!==t.lines[0].type?this.svg.classList.remove("--hover"):this.svg.classList.add("--hover"),this.svg.setAttribute("width",t.chartWidth);var i=t.chartHeight/t.rangeMaxY,n=t.width/t.chartWidth;t.lines.forEach(function(a,s){if(-1===t.hiddenLines.indexOf(a.id)){t.yScaled&&s===t.lines.length-1&&(i=t.chartHeight/t.yScaledRangeMaxY);var r=e.paths[a.id].path;a.path&&(r.setAttribute("d",a.path),r.setAttribute("transform","scale(".concat(1/n,",").concat(i*a.fixScaleY,")")))}})}},{key:"update",value:function(t){t.zoomInit&&this.render(t),this.updateScale(t),this.hiddenLines(t)}},{key:"init",value:function(t){this.render(t)}}]),i}();exports.Lines=r;
},{"./helpers":"lTk1"}],"kJRr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tooltip=void 0;var t=require("./helpers");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}var i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21"><g data-name="Group 1"><path data-name="Rectangle 1" fill="none" d="M21 21H0V0h21z"/><path data-name="Path 1" d="M15.59 11.49l-8.6 8.6A1.4 1.4 0 1 1 5 18.11l7.6-7.61-7.6-7.6A1.4 1.4 0 0 1 6.99.9l8.6 8.6a1.4 1.4 0 0 1 0 1.98z" fill="#D2D5D7"/></g></svg>',s="\n    .tooltip {\n        position: absolute;\n        left: 0;\n        top: 10px;\n        width: 140px;\n        box-shadow: 0px 0px 10px -3px rgba(0,0,0,0.75);\n        border-radius: 8px;\n        background-color:#fff;\n        opacity: 1;\n        transition: 0.2s opacity;\n        padding: 4px 10px;\n        font-size: 12px;\n        z-index: 1001;\n    }\n    .--night .tooltip {\n        background-color: #1C2533;\n        box-shadow: none;\n    }\n    .tooltip.--off {\n        opacity: 0;\n        pointer-events: none;\n    }\n    .tooltip-hover {\n        position: absolute;\n        top: 0;\n        left: 0;\n        border-left: 1px solid rgba(24, 45, 59, 0.1);\n        bottom: 35;\n        pointer-events: none;\n        opacity: 1;\n        transition: 0.2s opacity;\n    }\n    .--night .tooltip-hover {\n        border-left: 1px solid rgba(255, 255, 255, 0.1);\n    }\n    .tooltip-hover.--bar {\n        border: 0;\n    }\n    .tooltip-date {\n        font-weight: 600;\n        margin: 6px 0;\n        display: flex;\n        justify-content: space-between;\n        pointer-events: none;\n    }\n    .tooltip-date > svg {\n        width: 12px;\n        height: 10px;\n    }\n    .tooltip-item {\n        display:flex;\n        margin: 6px 0;\n        justify-content: space-between;\n        pointer-events: none;\n    }\n    .tooltip-item > span {\n        display: flex;\n    }\n    .tooltip-item > span > span {\n        min-width: 25px;\n        text-align: right;\n        font-weight: 600;\n        margin-right: 7px;\n        display: block;\n    }\n    .tooltip-item > span.--all {\n        font-weight: 600;\n    }\n    .tooltip-hover.--off {\n        opacity: 0;\n    }\n    .hover-item {\n        background-color: #fff;\n        position: absolute;\n        bottom: 0;\n        width: 8px;\n        height: 8px;\n        pointer-events: none;\n        margin: 0 0 -6px -6px;\n        border-radius: 50%;\n        border: 2px solid;\n    }\n    .--night .hover-item {\n        background-color: #242F3E;\n    }\n    .hover-item.--area {\n        opacity: 1;\n    }\n    .hover-item.--bar {\n        left: -1px;\n        height: auto;\n        border-radius: 0;\n        border: 0;\n        margin: 0;\n    }\n",r=function(){function n(o,i){var r=this;e(this,n),this.target=o.target,this.props=o,this.setProps=i,t.DomHelper.style(o.shadow,s),this.tooltip=t.DomHelper.div("tooltip --off",o.target),this.tooltip.onclick=function(t){return r.clickTooltip(t)}}return o(n,[{key:"render",value:function(e){var n=this;this.target.addEventListener("mouseenter",function(t){return n.mouseEnter(t)}),this.target.addEventListener("mouseleave",function(t){return n.mouseLeave(t)}),this.target.addEventListener("mousemove",function(t){return n.mouseMove(t)}),this.target.addEventListener("touchmove",function(t){n.selectedIndex=null,n.mouseMove(t)}),this.target.addEventListener("touchend",function(t){n.mouseMove(t),setTimeout(function(){n.mouseClick(t)})}),this.target.addEventListener("click",function(t){return n.mouseClick(t)}),document.addEventListener("click",function(){return n.mouseLeave()}),this.hover=t.DomHelper.div("tooltip-hover --off",this.target),"bar"===e.lines[0].type&&this.hover.classList.add("--bar")}},{key:"clickTooltip",value:function(t){if(t.stopPropagation(),!this.props.isZoomed){var e=this.selectedIndex;this.selectedIndex=null,this.setProps({zoomedIndex:e})}}},{key:"mouseEnter",value:function(){this.chartRect=this.target.getBoundingClientRect()}},{key:"mouseLeave",value:function(){this.selectedIndex=null,this.setProps({hoveredIndex:null})}},{key:"mouseClick",value:function(t){t.stopPropagation(),this.props.hiddenLines.length!==this.props.lines.length&&(this.selectedIndex=this.props.hoveredIndex,this.hoveredValue(this.props))}},{key:"mouseMove",value:function(t){this.positions=[],"bar"===this.props.lines[0].type?this.amount=this.props.timeLine.length:this.amount=this.props.timeLine.length-1;var e,n=this.props.chartWidth/this.amount;this.chartRect||(this.chartRect=this.target.getBoundingClientRect()),e=t&&"number"==typeof t.clientX?t.clientX:t&&t.touches[0]?t.touches[0].clientX:this.prevClientX,e-=this.chartRect.left,this.prevClientX=e;for(var o,i=-1,s=-1;s<=this.props.timeLine.length;s+=1){var r=s*n-this.props.left+this.props.chartIndent;this.positions[s]={clientX:e,position:r},r>0&&(i<e&&e<r&&(o=Math.abs(i-e)>Math.abs(r-e)?s:s-1),i=r)}o<0&&(o=0),o>=this.props.timeLine.length&&(o=this.props.timeLine.length-1),t&&this.props.hoveredIndex!==o&&(o||0===o?this.setProps({hoveredIndex:o}):this.setProps({hoveredIndex:null}))}},{key:"hoveredValue",value:function(e){var n=this,o=e.hoveredIndex;if(this.prevIndex=o,!this.selectedIndex&&0!==this.selectedIndex||e.isZoomed||(o=this.selectedIndex),!o&&0!==o||e.hiddenLines.length===e.lines.length||!this.positions[o])return this.hover.classList.add("--off"),void this.tooltip.classList.add("--off");e.isZoomed||this.selectedIndex||0===this.selectedIndex?this.tooltip.classList.remove("--off"):this.tooltip.classList.add("--off"),this.hover.classList.remove("--off"),this.positions[o].position>200?this.tooltip.style.transform="translateX(".concat(this.positions[o].position-160-17,"px)"):this.tooltip.style.transform="translateX(".concat(this.positions[o].position+17,"px)"),this.tooltip.innerHTML=null;var s,r=new Date(e.timeLine[o]);s=e.isZoomed?"".concat(r.getHours()>9?r.getHours():"0".concat(r.getHours()),":").concat(r.getMinutes()>9?r.getMinutes():"0".concat(r.getMinutes())):"".concat(e.daysLabels[r.getDay()].substring(0,3),", ").concat(r.getDate()," ").concat(e.monthsLabels[r.getMonth()].substring(0,3)," ").concat(r.getFullYear()).concat(i),t.DomHelper.div("tooltip-date",this.tooltip,s),e.lines.forEach(function(i){if(-1===e.hiddenLines.indexOf(i.id)){var s=i.name;e.percentage&&(s="<span>".concat(Math.round(i.column[o]/e.allColumnData[o]*100),"%</span>").concat(s)),t.DomHelper.div("tooltip-item",n.tooltip).innerHTML="<span>".concat(s,'</span><span style="color:').concat(i.color,'">').concat(i.column[o],"</span>")}});var a=e.chartHeight/e.rangeMaxY;this.hover.innerHTML=null,this.hover.style.transform="translateX(".concat(this.positions[o].position,"px)");var l=0,p=Math.ceil(e.chartWidth/this.amount)+1;e.lines.forEach(function(i,s){if(e.yScaled&&s===e.lines.length-1&&(a=e.chartHeight/e.yScaledRangeMaxY),-1===e.hiddenLines.indexOf(i.id)){var r=t.DomHelper.div("hover-item --".concat(i.type),n.hover);r.style.bottom="".concat((l+i.column[o])*a,"px"),r.style.borderColor=i.color,"bar"===i.type&&(r.style.top="".concat(e.chartHeight-(l+i.column[o])*a,"px"),r.style.bottom=0,r.style.width=p,r.style.backgroundColor=i.color,r.style.zIndex=e.lines.length-s),e.stacked&&(l+=i.column[o])}}),e.stacked&&!e.percentage&&t.DomHelper.div("tooltip-item",this.tooltip,"<span>".concat("All",'</span><span class="--all">',l,"</span>"))}},{key:"update",value:function(t){var e=this;t.zoomInit&&(this.tooltip.innerHTML=null,this.hover.innerHTML=null,this.positions=[],this.props=t,this.mouseMove()),requestAnimationFrame(function(){e.hoveredValue(t),e.props=t})}},{key:"init",value:function(t){this.render(t),this.props=t}}]),n}();exports.Tooltip=r;
},{"./helpers":"lTk1"}],"4WcH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChartWrapper=void 0;var t=require("./helpers"),e=require("./axis-x"),r=require("./axis-y"),n=require("./lines"),i=require("./tooltip");function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){a(t,e,r[e])})}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),t}var l="\n    .chart-wrapper {\n        position: relative;\n        margin: 0 -16px;\n        cursor: pointer;\n    }\n    .svg-wrapper {\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        will-change:transform;\n        pointer-events: none;\n    }\n    .message {\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        align-items: center;\n        justify-content: center;\n        opacity: 0;\n        display: none;\n        transition: 0.2s opacity;\n    }\n    .message.--on {\n        display: flex;\n        opacity: 1;\n    }\n",c=function(){function a(e,r){o(this,a),this.setProps=r,t.DomHelper.style(e.shadow,l),this.chartWrapper=t.DomHelper.div("chart-wrapper",e.target),this.render(e)}return h(a,[{key:"render",value:function(a){var o=this;this.svgWrapper=t.DomHelper.div("svg-wrapper",this.chartWrapper),this.message=t.DomHelper.div("message",this.chartWrapper,"Please, choose at least the one line ¯\\_(ツ)_/¯"),this.lines=new n.Lines(s({},a,{target:this.svgWrapper}),function(t){return o.setProps(t)}),this.axisX=new e.AxisX(s({},a,{target:this.svgWrapper}),function(t){return o.setProps(t)}),this.axisY=new r.AxisY(s({},a,{target:this.chartWrapper}),function(t){return o.setProps(t)}),this.axisYright=new r.AxisY(s({},a,{target:this.chartWrapper}),function(t){return o.setProps(t)},!0),this.tooltip=new i.Tooltip(s({},a,{target:this.chartWrapper}),function(t){return o.setProps(t)})}},{key:"updatePosition",value:function(t){this.svgWrapper.style.transform="translateX(".concat(16-t.left,"px) translate3d(0,0,0)")}},{key:"update",value:function(t){t.lines.length===t.hiddenLines.length?this.message.classList.add("--on"):this.message.classList.remove("--on"),this.axisYright.update(t),this.axisY.update(t),this.lines.update(t),this.tooltip.update(t),this.axisX.update(t),this.updatePosition(t)}},{key:"init",value:function(t){this.chartWrapper.style.height="".concat(t.chartHeight+35,"px"),t.percentage&&(this.chartWrapper.style.marginTop="15px"),this.axisY.init(t),this.axisYright.init(t),this.lines.init(t),this.tooltip.init(t),this.axisX.init(t),this.updatePosition(t)}}]),a}();exports.ChartWrapper=c;
},{"./helpers":"lTk1","./axis-x":"+d6E","./axis-y":"yzz7","./lines":"MiIh","./tooltip":"kJRr"}],"5YxI":[function(require,module,exports) {
"use strict";var t=require("./helpers"),e=require("./header"),a=require("./loading"),n=require("./switchers"),i=require("./navigator"),s=require("./chart-wrapper");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return l(t)||c(t)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){d(t,e,a[e])})}return t}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g(t,e,a){return e&&p(t.prototype,e),a&&p(t,a),t}function m(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}function b(t){var e="function"==typeof Map?new Map:void 0;return(b=function(t){if(null===t||!L(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return C(t,arguments,S(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),D(a,t)})(t)}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function C(t,e,a){return(C=w()?Reflect.construct:function(t,e,a){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return a&&D(i,a.prototype),i}).apply(null,arguments)}function L(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x="\n    .chart{\n        overflow: hidden;\n        font-family: 'Open Sans', sans-serif;\n        padding: 0 16px;\n        color: #000;\n        display: flex;\n        flex-direction: column;\n        position: relative;\n        -webkit-tap-highlight-color: rgba(0,0,0,0);\n        -webkit-tap-highlight-color: transparent;\n    }\n    .chart.--night {\n        color: #fff;\n    }\n",k=function(r){function h(){var e;return f(this,h),(e=m(this,S(h).call(this))).state={isZoomed:!1,timeLine:[],startRange:80,endRange:100,chartIndent:16,isLoading:!0,lines:[],hiddenLines:[],daysLabels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthsLabels:["January","February","March","April","May","June","July","August","September","October","November","December"]},e.shadow=e.attachShadow({mode:"open"}),t.DomHelper.style(e.shadow,x),e.chart=t.DomHelper.div("chart",e.shadow),e.render(),e}return y(h,b(HTMLElement)),g(h,[{key:"render",value:function(){var t=this;this.header=new e.Header(u({shadow:this.shadow,target:this.chart},this.state),function(e){return t.setState(e)}),this.chartWrapper=new s.ChartWrapper(u({shadow:this.shadow,target:this.chart},this.state),function(e){return t.setState(e)}),this.navigator=new i.Navigator(u({shadow:this.shadow,target:this.chart},this.state),function(e){return t.setState(e)}),this.switchers=new n.Switchers(u({shadow:this.shadow,target:this.chart},this.state),function(e){return t.setState(e)}),this.loading=new a.Loading(u({shadow:this.shadow,target:this.chart},this.state),function(e){return t.setState(e)})}},{key:"createCache",value:function(){var t=this;this.state.maxCache||(this.state.maxCache={},this.state.lines.forEach(function(e){var a=e.column.map(function(t,e){return{val:t,i:e}});a.sort(function(t,e){return e.val-t.val}),t.state.maxCache[e.id]=a}))}},{key:"calculate",value:function(){var t=this;if(this.state.percentage||this.state.stacked){this.allColumnDataCache||(this.allColumnDataCache={});var e="key".concat(this.state.hiddenLines.sort().join(""));if(!this.allColumnDataCache[e]){var a=[];this.state.lines.forEach(function(e){if(-1===t.state.hiddenLines.indexOf(e.id))for(var n=0;n<e.column.length;n+=1)a[n]?a[n]+=e.column[n]:a[n]=e.column[n]}),this.allColumnDataCache[e]=a}this.state.allColumnData=this.allColumnDataCache[e]}var n=Math.floor(this.state.timeLine.length*this.state.startRange/100),i=Math.ceil(this.state.timeLine.length*this.state.endRange/100),s=0,r=[],h=0,c=0;if(this.state.stacked){r=0;for(var l=0;l<this.state.allColumnData.length;l+=1)l>=n&&l<=i&&this.state.allColumnData[l]>s&&(s=this.state.allColumnData[l]),this.state.allColumnData[l]>r&&(r=this.state.allColumnData[l])}else this.state.lines.forEach(function(e,a){if(-1===t.state.hiddenLines.indexOf(e.id)){var o=t.state.maxCache[e.id];if(t.state.yScaled&&a===t.state.lines.length-1){c=o[0].val;for(var l=0;l<o.length;l+=1){var u=o[l];if(u.i>=n&&u.i<=i){h=u.val;break}}return}r.push(o[0].val);for(var d=0;d<o.length;d+=1){var f=o[d];if(f.val<s)break;f.i>=n&&f.i<=i&&s<f.val&&(s=f.val)}}});this.state.percentage?(this.state.rangeMaxY=1,this.state.allMaxY=1):this.state.stacked?(this.state.rangeMaxY=s,this.state.allMaxY=r):(this.state.rangeMaxY=s,this.state.allMaxY=Math.max.apply(Math,o(r))),this.state.yScaledRangeMaxY=h,this.state.yScaledAllMaxY=c}},{key:"update",value:function(t){var e=this,a=this.state.hiddenLines;this.state=u({},this.state,t),this.inited&&(this.createCache(),this.calculate(),((this.state.percentage||this.state.stacked)&&a.length!==this.state.hiddenLines.length||this.state.zoomInit)&&(this.prevColumnsData=[],this.state.lines=this.state.lines.map(function(t){return-1===e.state.hiddenLines.indexOf(t.id)?u({},t,e.generatePath(e.state,t)):t})),this.header.update(this.state),this.chartWrapper.update(this.state),this.navigator.update(this.state),this.switchers.update(this.state),this.loading.update(this.state),this.state.zoomInit=!1)}},{key:"init",value:function(t){var e=this;this.state=u({},this.state,t),this.createCache(),this.calculate(),this.prevColumnsData=[],this.state.lines=this.state.lines.map(function(t){return u({},t,e.generatePath(e.state,t))}),this.header.init(this.state),this.chartWrapper.init(this.state),this.navigator.init(this.state),this.switchers.init(this.state),this.loading.init(this.state),this.inited=!0}},{key:"setState",value:function(t){var e=this;if(this.state.isZoomed&&!1===t.isZoomed&&(this.prevState.hideNavigator=this.state.hideNavigator,this.prevState.hideNavigator||(this.prevState.hiddenLines=this.state.hiddenLines),this.state=u({},this.prevState),this.state.zoomedIndex=null,this.state.isLoading=!1,this.allColumnDataCache=u({},this.prevAllColumnDataCache),this.state.hideNavigator=!1,this.state.isZoomed=!1,this.state.zoomInit=!0),!this.state.isZoomed&&t.zoomedIndex&&!this.state.percentage){var a=new Date(this.state.timeLine[t.zoomedIndex]),n=this.state.dataUrl;n+="/".concat(a.getFullYear(),"-"),n+="".concat(a.getMonth()>8?a.getMonth()+1:"0".concat(a.getMonth()+1)),n+="/".concat(a.getDate()>9?a.getDate():"0".concat(a.getDate()),".json"),fetch(n).then(function(t){return t.json()}).then(function(t){e.prevState=u({},e.state),e.prevAllColumnDataCache=u({},e.allColumnDataCache),e.allColumnDataCache=null;var a={maxCache:null,zoomInit:!0,isZoomed:!0,startRange:100/7*3-600/e.state.width,endRange:100/7*4-800/e.state.width,chartIndent:16,isLoading:!1,hiddenLines:e.state.hiddenLines,lines:[],width:e.state.width,height:e.state.height,yScaled:t.y_scaled,percentage:t.percentage,stacked:t.stacked,title:e.state.title,hoveredIndex:null};t.columns.forEach(function(e){if("x"===e[0])a.timeLine=e,a.timeLine.shift();else{var n=a.lines.length;a.lines.push({id:e[0],color:t.colors[e[0]],name:t.names[e[0]],column:e,type:t.types[e[0]]}),a.lines[n].column.shift()}}),a.hideNavigator=e.prevState.lines.length!==a.lines.length,a.hideNavigator&&(a.endRange=100,a.startRange=0),a.scaleRange=(a.endRange-a.startRange)/100,a.chartWidth=a.width/a.scaleRange,a.chartHeight=a.height,a.left=a.chartWidth*a.startRange/100,e.update(a)}),t.isLoading=!0}this.update(t)}},{key:"generatePath",value:function(t,e){var a;a="bar"===e.type?t.width/t.timeLine.length:t.width/(t.timeLine.length-1);var n=1;t.percentage||t.stacked||(e.column[0]>1e6?n=1e6:e.column[0]>1e3&&(n=1e3));var i=e.column[0]/n;t.percentage&&(i=e.column[0]/t.allColumnData[0]),t.stacked&&this.prevColumnsData[0]&&(i+=this.prevColumnsData[0]),this.prevColumnsData[0]=i;var s="";s="area"===e.type?"M0 0 L 0 ".concat(i):"bar"===e.type?"M0 0 L 0 ".concat(i):"M0 ".concat(i);for(var r=1;r<e.column.length;r+=1)i=e.column[r]/n,t.percentage&&(i=e.column[r]/t.allColumnData[r]),t.stacked&&this.prevColumnsData[r]&&(i+=this.prevColumnsData[r]),this.prevColumnsData[r]=i,"bar"===e.type?s+=" L ".concat(r*a," ").concat(this.prevColumnsData[r-1]," L ").concat(r*a," ").concat(i):s+=" L ".concat(r*a," ").concat(i);return"area"!==e.type&&"bar"!==e.type||(s+=" L ".concat(e.column.length*a," ").concat(i),s+=" L ".concat(e.column.length*a," 0")),{path:s,fixScaleY:n}}},{key:"attributeChangedCallback",value:function(t,e,a){"is-night"===t&&("true"===a?this.chart.classList.add("--night"):this.chart.classList.remove("--night"),this.state.isNight="true"===a)}},{key:"connectedCallback",value:function(){var t=this,e=this.getAttribute("url"),a=parseInt(this.getAttribute("width"),10),n=parseInt(this.getAttribute("height"),10),i=this.getAttribute("title"),s="true"===this.getAttribute("is-night");fetch("".concat(e,"/overview.json")).then(function(t){return t.json()}).then(function(r){var o={lines:[],dataUrl:e,width:a-2*t.state.chartIndent,height:n,yScaled:r.y_scaled,percentage:r.percentage,stacked:r.stacked,title:i,isNight:s};r.columns.forEach(function(t){if("x"===t[0])o.timeLine=t,o.timeLine.shift();else{var e=o.lines.length;o.lines.push({id:t[0],color:r.colors[t[0]],name:r.names[t[0]],column:t,type:r.types[t[0]]}),o.lines[e].column.shift()}}),o.scaleRange=(t.state.endRange-t.state.startRange)/100,o.chartWidth=o.width/o.scaleRange,o.chartHeight=o.height,o.left=o.chartWidth*t.state.startRange/100,t.init(u({},o,{isLoading:!1}))})}}],[{key:"observedAttributes",get:function(){return["is-night"]}}]),h}();customElements.define("simple-chart",k);
},{"./helpers":"lTk1","./header":"cJDT","./loading":"FvFk","./switchers":"vMci","./navigator":"Y2Q9","./chart-wrapper":"4WcH"}]},{},["5YxI"], null)
//# sourceMappingURL=chart.f2806fc3.js.map
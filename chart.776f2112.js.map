{"version":3,"sources":["helpers.js","header.js","loading.js","switchers.js","navigator.js","axis-x.js","axis-y.js","lines.js","tooltip.js","chart-wrapper.js","chart.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["DomHelper","className","target","html","el","document","createElement","innerHTML","appendChild","tag","createElementNS","setAttribute","SEARCH_ICON","STYLES","Header","props","setProps","style","shadow","header","div","title","headerZoom","onclick","zoomOut","headerDays","isZoomed","classList","add","remove","timeLine","length","startIndex","Math","floor","startRange","endIndex","ceil","endRange","startDate","Date","endDate","startDay","getDate","endDay","value","dayName","daysLabels","getDay","monthName","monthsLabels","getMonth","year","getFullYear","endMonthName","endYear","prevDaysVal","isUp","prevStartRange","addEventListener","removeChild","newProps","clearTimeout","timeout","setTimeout","range","render","Loading","loading","isLoading","CHECK_ICON","Switcher","line","switcher","onClick","hiddenLines","switcherBack","name","borderColor","color","switcherFront","backgroundColor","index","indexOf","id","splice","push","Switchers","switcherList","lines","map","switchers","zoomInit","forEach","update","NAV_HEIGHT","NAV_HEIGHT_INNER","NAV_STROKE_WIDTH","Navigator","mouseUp","event","mouseMove","navigator","clickedSide","stopPropagation","clickX","clientX","touches","clickProps","body","userSelect","startPixels","width","endPixels","diff","newStartPixels","newEndPixels","newStartRange","newEndRange","diffRange","scaleRange","chartWidth","left","hoveredIndex","paths","path","navSvgWrapper","svg","scaleY","allMaxY","stacked","percentage","yScaled","yScaledAllMaxY","fixScaleY","type","navWrapper","transform","navSelector","onmousedown","mouseDown","ontouchstart","navClickLeft","navClickRight","renderLines","hideNavigator","requestAnimationFrame","AxisX","axisX","items","blockWidth","blockAmount","prev","i","position","date","getHours","getMinutes","substring","getBlockAmount","AxisY","isRight","axisY","axisItems","blockHeight","amountBlocks","chartHeight","maxY","toFixed","round","axisItem","createItem","bottom","item","fillItems","rangeMaxY","yScaledRangeMaxY","updateAxis","item0","STROKE_WIDTH","Lines","scaleX","updateScale","ARROW_ICON","Tooltip","tooltip","clickTooltip","mouseEnter","mouseLeave","selectedIndex","mouseClick","hover","zoomedIndex","chartRect","getBoundingClientRect","hoveredValue","positions","amount","prevClientX","chartIndent","abs","prevIndex","dateStr","column","allColumnData","prevValue","hoverItem","top","zIndex","ChartWrapper","chartWrapper","svgWrapper","message","newState","axisYright","updatePosition","height","marginTop","init","SimpleChart","state","attachShadow","mode","chart","setState","maxCache","mapped","val","sort","a","b","allColumnDataCache","key","join","maxCacheLine","max","prevHiddenLines","inited","createCache","calculate","prevColumnsData","generatePath","prevState","prevAllColumnDataCache","zoomedDate","url","dataUrl","fetch","then","response","json","data","newZoomedState","y_scaled","columns","shift","colors","names","types","oldValue","newValue","isNight","getAttribute","parseInt","HTMLElement","customElements","define","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","log","removeErrorOverlay","error","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"chart.776f2112.js","sourceRoot":"..\\src","sourcesContent":["export class DomHelper {\r\n    static div(className, target, html) {\r\n        const el = document.createElement('div');\r\n        el.className = className;\r\n\r\n        if (html) {\r\n            el.innerHTML = html;\r\n        }\r\n\r\n        if (target) {\r\n            target.appendChild(el);\r\n        }\r\n\r\n        return el;\r\n    }\r\n\r\n    static svg(tag, target, className) {\r\n        const el = document.createElementNS('http://www.w3.org/2000/svg', tag);\r\n        if (className) {\r\n            el.setAttribute('class', className);\r\n        }\r\n\r\n        if (target) {\r\n            target.appendChild(el);\r\n        }\r\n        return el;\r\n    }\r\n\r\n    static style(target, html) {\r\n        const el = document.createElement('style');\r\n\r\n        if (html) {\r\n            el.innerHTML = html;\r\n        }\r\n\r\n        if (target) {\r\n            target.appendChild(el);\r\n        }\r\n\r\n        return el;\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\n\r\nconst SEARCH_ICON = '<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"fill: #48AAF0;\" viewBox=\"0 0 330 330\"><path d=\"M325.606 304.394L223.328 202.117c16.707-21.256 26.683-48.041 26.683-77.111C250.011 56.077 193.934 0 125.005 0 56.077 0 0 56.077 0 125.006 0 193.933 56.077 250.01 125.005 250.01c29.07 0 55.855-9.975 77.11-26.681l102.278 102.277c2.929 2.93 6.768 4.394 10.607 4.394s7.678-1.464 10.606-4.394c5.859-5.857 5.859-15.355 0-21.212zM30 125.006C30 72.619 72.619 30 125.005 30c52.387 0 95.006 42.619 95.006 95.005 0 52.386-42.619 95.004-95.006 95.004C72.619 220.01 30 177.391 30 125.006z\"/><path d=\"M175.01 110.006H75c-8.284 0-15 6.716-15 15s6.716 15 15 15h100.01c8.284 0 15-6.716 15-15s-6.716-15-15-15z\"/></svg>';\r\n\r\nconst STYLES = `\r\n    .header {\r\n        position: relative;\r\n        display: flex;\r\n        font-weight: 600;\r\n        align-items: center;\r\n        min-height: 50px;\r\n    }\r\n    .header.--zoomed > .header-title {\r\n        opacity: 0;\r\n        font-size: 8px;\r\n        transform: translateY(-30px);\r\n    }\r\n    .header.--zoomed > .header-zoom {\r\n        opacity: 1;\r\n        font-size: 15px;\r\n        transform: translateY(0);\r\n    }\r\n    .header-title {\r\n        flex-grow: 1;\r\n        line-height: 50px;\r\n        font-size: 15px;\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n        transition: 0.2s transform, 0.2s opacity, 0.2s font-size;\r\n    }\r\n    .header-zoom {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        font-size: 8px;\r\n        line-height: 50px;\r\n        color: #48AAF0;\r\n        display: flex;\r\n        align-items: center;\r\n        opacity: 0;\r\n        transform: translateY(30px);\r\n        transition: 0.2s transform, 0.2s opacity, 0.2s font-size;\r\n        cursor: pointer;\r\n    }\r\n    .header-zoom > svg {\r\n        margin-right: 10px;\r\n        width: 18px;\r\n        height: 18px;\r\n    }\r\n    .header-days {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        line-height: 50px;\r\n        font-size: 13px;\r\n        flex-shrink: 0;\r\n    }\r\n    .header-days.--show-down {\r\n        animation: show-up 0.2s 1 ease-in-out;\r\n    }\r\n    .header-days.--show-up {\r\n        animation: show-down 0.2s 1 ease-in-out;\r\n    }\r\n    .header-days.--hide-down {\r\n        animation: hide-up 0.2s 1 ease-in-out;\r\n    }\r\n    .header-days.--hide-up {\r\n        animation: hide-down 0.2s 1 ease-in-out;\r\n    }\r\n    @keyframes show-up {\r\n        0% {transform:translateY(-30px);opacity:0;font-size:7px;}\r\n        100%{transform:translateY(0);opacity:1;font-size:13px;}\r\n    }\r\n    @keyframes show-down {\r\n        0% {transform:translateY(30px);opacity:0;font-size:7px;}\r\n        100%{transform:translateY(0);opacity:1;font-size:13px;}\r\n    }\r\n    @keyframes hide-up {\r\n        0% {transform:translateY(0);opacity:1;font-size:13px;}\r\n        100%{transform:translateY(-30px);opacity:0;font-size:7px;}\r\n    }\r\n    @keyframes hide-down {\r\n        0% {transform:translateY(0);opacity:1;font-size:13px;}\r\n        100%{transform:translateY(30px);opacity:0;font-size:7px;}\r\n    }\r\n`;\r\n\r\nexport class Header {\r\n    constructor(props, setProps) {\r\n        this.setProps = setProps;\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n        this.header = DomHelper.div('header', props.target);\r\n    }\r\n\r\n    render(props) {\r\n        this.title = DomHelper.div('header-title', this.header, props.title);\r\n        const headerZoom = DomHelper.div('header-zoom', this.header, `${SEARCH_ICON}Zoom out`);\r\n        headerZoom.onclick = () => this.zoomOut();\r\n\r\n        this.headerDays = DomHelper.div('header-days', this.header);\r\n    }\r\n\r\n    zoomOut() {\r\n        this.setProps({\r\n            isZoomed: false,\r\n        });\r\n    }\r\n\r\n    isZoomed(props) {\r\n        if (props.isZoomed) {\r\n            this.header.classList.add('--zoomed');\r\n        } else {\r\n            this.header.classList.remove('--zoomed');\r\n        }\r\n    }\r\n\r\n    range(props) {\r\n        const { timeLine } = props;\r\n        if (!timeLine || !timeLine.length) {\r\n            this.headerDays.innerHTML = null;\r\n            return;\r\n        }\r\n\r\n        const startIndex = Math.floor(timeLine.length * props.startRange / 100);\r\n        const endIndex = Math.ceil(timeLine.length * props.endRange / 100);\r\n\r\n        const startDate = new Date(timeLine[startIndex]);\r\n        const endDate = new Date(timeLine[endIndex - 1]);\r\n\r\n        const startDay = startDate.getDate();\r\n        const endDay = endDate.getDate();\r\n\r\n        let value;\r\n        if (timeLine[endIndex - 1] - timeLine[startIndex] < 25 * 60 * 60 * 1000 && startDay === endDay) {\r\n            const dayName = props.daysLabels[startDate.getDay()];\r\n            const monthName = props.monthsLabels[startDate.getMonth()];\r\n            const year = startDate.getFullYear();\r\n\r\n            value = `${dayName}, ${startDay} ${monthName} ${year}`;\r\n        } else {\r\n            const monthName = props.monthsLabels[startDate.getMonth()];\r\n            const endMonthName = props.monthsLabels[endDate.getMonth()];\r\n            const year = startDate.getFullYear();\r\n            const endYear = endDate.getFullYear();\r\n\r\n            value = `${startDay} ${monthName} ${year} - ${endDay} ${endMonthName} ${endYear}`;\r\n        }\r\n\r\n        if (value !== this.prevDaysVal && this.prevDaysVal) {\r\n            this.prevDaysVal = value;\r\n\r\n            const isUp = props.startRange > this.prevStartRange;\r\n            this.prevStartRange = props.startRange;\r\n\r\n            const headerDays = DomHelper.div(`header-days ${isUp ? '--show-up' : '--show-down'}`, this.header, value);\r\n\r\n            this.headerDays.addEventListener('animationend', () => {\r\n                this.header.removeChild(this.headerDays);\r\n                this.headerDays = headerDays;\r\n            });\r\n\r\n            this.headerDays.classList.add(!isUp ? '--hide-up' : '--hide-down');\r\n        } else {\r\n            this.prevDaysVal = value;\r\n            this.headerDays.innerHTML = value;\r\n        }\r\n    }\r\n\r\n    update(newProps) {\r\n        this.isZoomed(newProps);\r\n\r\n        clearTimeout(this.timeout);\r\n        this.timeout = setTimeout(() => {\r\n            this.range(newProps);\r\n        }, 50);\r\n    }\r\n\r\n    init(newProps) {\r\n        this.render(newProps);\r\n        this.range(newProps);\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\n\r\nconst STYLES = `\r\n    .loading{\r\n        display: flex;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        font-size: 25px;\r\n        align-items: center;\r\n        justify-content: center;\r\n        opacity: 0;\r\n        transform: translateY(-30px);\r\n        transition: 0.2s transform, 0.2s opacity;\r\n        pointer-events: none;\r\n    }\r\n    .loading.--visible {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n`;\r\n\r\nexport class Loading {\r\n    constructor(props, setProps) {\r\n        this.setProps = setProps;\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n        this.loading = DomHelper.div('loading', props.target, 'Loading...');\r\n        this.isLoading(props);\r\n    }\r\n\r\n    isLoading(props) {\r\n        if (props.isLoading) {\r\n            this.loading.classList.add('--visible');\r\n        } else {\r\n            this.loading.classList.remove('--visible');\r\n        }\r\n    }\r\n\r\n    update(newProps) {\r\n        this.isLoading(newProps);\r\n    }\r\n\r\n    init(newProps) {\r\n        this.isLoading(newProps);\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\n\r\nconst CHECK_ICON = '<svg class=\"icon\" style=\"margin-right:6px; width: 12px; height: 12px;vertical-align: middle;fill: #fff;overflow: hidden;\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M896 143.8c-34.6-26.8-83-18.6-108.2 18.2L428 688.4l-198.2-214.6c-29.2-33.2-78.2-34.8-109.4-3.6-31.2 31-32.8 83.2-3.4 116.2 0 0 240.8 267.2 275.4 294 34.6 26.8 83 18.6 108.2-18.2l412.6-603.4C938.4 221.8 930.6 170.4 896 143.8z\" /></svg>';\r\n\r\nconst STYLES = `\r\n    .switchers {\r\n        margin-top: 17px;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        opacity: 1;\r\n        transition: 0.2s opacity;\r\n    }\r\n    .switchers.--off {\r\n        opacity: 0;\r\n        pointer-events: none;\r\n    }\r\n    .switchers.--abs {\r\n        position:relative;\r\n        margin-top: -40px;\r\n    }\r\n    .switcher {\r\n        height: 36px;\r\n        border-radius: 18px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 11px;\r\n        font-weight: 600;\r\n        position: relative;\r\n        cursor: pointer;\r\n        margin: 6px;\r\n        flex-shrink: 0;\r\n        white-space: nowrap;\r\n    }\r\n    .switcher.--off .switcher-front {\r\n        opacity: 0;\r\n        transform: translateY(-30px);\r\n        pointer-events: none;\r\n    }\r\n    .switcher-back {\r\n        padding: 0 24px;\r\n        line-height: 32px;\r\n        border: 2px solid;\r\n        border-radius: 18px;\r\n        white-space: nowrap;\r\n    }\r\n    .switcher-front {\r\n        white-space: nowrap;\r\n        border-radius: 18px;\r\n        left: 0;\r\n        top: 0;\r\n        position: absolute;\r\n        padding: 0 17px;\r\n        line-height: 36px;\r\n        color: #fff;\r\n        display: flex;\r\n        align-items: center;\r\n        transform: translateY(0px);\r\n        opacity: 1;\r\n        transition: 0.3s transform, 0.3s opacity;\r\n    }\r\n`;\r\n\r\nclass Switcher {\r\n    constructor(line, props, setProps) {\r\n        this.line = line;\r\n        this.props = props;\r\n        this.setProps = setProps;\r\n\r\n        this.switcher = DomHelper.div('switcher', this.props.target);\r\n        this.switcher.onclick = () => this.onClick();\r\n        this.hiddenLines(this.props);\r\n\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n        const switcherBack = DomHelper.div('switcher-back', this.switcher, this.line.name);\r\n        switcherBack.style.borderColor = this.line.color;\r\n        switcherBack.style.color = this.line.color;\r\n\r\n        const switcherFront = DomHelper.div('switcher-front', this.switcher, `${CHECK_ICON}${this.line.name}`);\r\n        switcherFront.style.backgroundColor = this.line.color;\r\n    }\r\n\r\n    onClick() {\r\n        const hiddenLines = [...this.props.hiddenLines];\r\n        const index = hiddenLines.indexOf(this.line.id);\r\n        if (index > -1) {\r\n            hiddenLines.splice(index, 1);\r\n        } else {\r\n            hiddenLines.push(this.line.id);\r\n        }\r\n\r\n        this.setProps({ hiddenLines });\r\n    }\r\n\r\n    hiddenLines(props) {\r\n        const index = props.hiddenLines.indexOf(this.line.id);\r\n        if (index > -1) {\r\n            this.switcher.classList.add('--off');\r\n        } else {\r\n            this.switcher.classList.remove('--off');\r\n        }\r\n    }\r\n\r\n    update(newProps) {\r\n        this.hiddenLines(newProps);\r\n        this.props = newProps;\r\n    }\r\n}\r\n\r\nexport class Switchers {\r\n    constructor(props, setProps) {\r\n        this.target = props.target;\r\n        this.setProps = setProps;\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n    }\r\n\r\n    render(props) {\r\n        this.switcherList = props.lines.map(line => new Switcher(line, { ...props, target: this.switchers }, this.setProps));\r\n    }\r\n\r\n    update(newProps) {\r\n        if (newProps.zoomInit) {\r\n            if (newProps.lines.length === 1) {\r\n                this.switchers.classList.add('--off');\r\n            } else {\r\n                this.switchers.classList.remove('--off');\r\n            }\r\n            this.switchers.innerHTML = null;\r\n            this.render(newProps);\r\n        }\r\n\r\n        this.switcherList.forEach((switcher) => {\r\n            switcher.update(newProps);\r\n        });\r\n    }\r\n\r\n    init(newProps) {\r\n        this.switchers = DomHelper.div(`switchers ${newProps.lines.length === 1 ? '--abs --off' : ''}`, this.target);\r\n        this.render(newProps);\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\n\r\nconst NAV_HEIGHT = 40;\r\nconst NAV_HEIGHT_INNER = 38;\r\nconst NAV_STROKE_WIDTH = 2;\r\n\r\nconst STYLES = `\r\n    .navigator {\r\n        height: ${NAV_HEIGHT}px;\r\n        border-radius: 5px;\r\n        overflow: hidden;\r\n        position:relative;\r\n        opacity: 1;\r\n        transition: 0.2s opacity;\r\n    }\r\n    .navigator.--off {\r\n        opacity: 0;\r\n        pointer-events: none;\r\n    }\r\n    .nav-wrapper {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n    .nav-left, .nav-right {\r\n        background-color: #E2EEF9;\r\n        opacity: 0.6;\r\n        height: ${NAV_HEIGHT_INNER}px;\r\n        flex-shrink:0;\r\n        width: 100%;\r\n        transform: translateX(5px);\r\n    }\r\n    .--night .nav-left, .--night .nav-right {\r\n        background-color: #304259;\r\n    }\r\n    .nav-right {\r\n        transform: translateX(-5px);\r\n    }\r\n    .nav-right {\r\n        flex-shrink:0;\r\n        width: 100%;\r\n        height: ${NAV_HEIGHT_INNER}px;\r\n        background-color: #E2EEF9;\r\n        opacity: 0.6;\r\n    }\r\n    .nav-selector {\r\n        flex-shrink:0;\r\n        height: ${NAV_HEIGHT_INNER}px;\r\n        border: 1px solid #C0D1E1;\r\n        border-left-width: 10px;\r\n        border-right-width: 10px;\r\n        border-radius: 5px;\r\n        z-index: 1;\r\n        cursor: pointer;\r\n        position:relative;\r\n    }\r\n    .--night .nav-selector {\r\n        border-color: #56626D;\r\n    }\r\n    .nav-selector:before, .nav-selector:after {\r\n        content: '';\r\n        position: absolute;\r\n        left: -6px;\r\n        top: 15px;\r\n        width:2px;\r\n        height:10px;\r\n        background-color:#fff;\r\n        border-radius: 2px;\r\n    }\r\n    .nav-selector:after {\r\n        left: auto;\r\n        right: -6px;\r\n    }\r\n    .nav-click-left, .nav-click-right {\r\n        position: absolute;\r\n        left: -38px;\r\n        width: 40px;\r\n        top: 0;\r\n        height: 100%;\r\n    }\r\n    .nav-click-right {\r\n        left: auto;\r\n        right: -38px;\r\n    }\r\n    .nav-svg-wrapper {\r\n        border-radius: 5px;\r\n        overflow: hidden;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 1px;\r\n        width: 100%;\r\n        height: ${NAV_HEIGHT_INNER}px;\r\n        overflow: hidden;\r\n        transform: scale(1, -1);\r\n    }\r\n    .nav-svg {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n    }\r\n    .nav-svg-path {\r\n        vector-effect: non-scaling-stroke;\r\n        stroke-width: ${NAV_STROKE_WIDTH};\r\n        opacity: 1;\r\n        transition: 0.2s opacity;\r\n    }\r\n    .nav-svg-path.--off {\r\n        opacity: 0;\r\n    }\r\n`;\r\n\r\nexport class Navigator {\r\n    constructor(props, setProps) {\r\n        this.setProps = setProps;\r\n\r\n        document.addEventListener('mouseup', () => this.mouseUp());\r\n        document.addEventListener('mousemove', event => this.mouseMove(event));\r\n\r\n        document.addEventListener('touchend', () => this.mouseUp());\r\n        document.addEventListener('touchmove', event => this.mouseMove(event));\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n        this.navigator = DomHelper.div('navigator', props.target);\r\n    }\r\n\r\n    mouseDown(event, clickedSide) {\r\n        event.stopPropagation();\r\n\r\n        this.clickX = typeof event.clientX === 'number' ? event.clientX : event.touches[0].clientX;\r\n        this.clickProps = this.props;\r\n        this.clickedSide = clickedSide;\r\n\r\n        document.body.style.userSelect = 'none';\r\n    }\r\n\r\n    mouseUp() {\r\n        document.body.style.userSelect = '';\r\n        this.clickX = null;\r\n    }\r\n\r\n    mouseMove(event) {\r\n        if (typeof this.clickX !== 'number') {\r\n            return;\r\n        }\r\n\r\n        const startPixels = this.clickProps.width * this.clickProps.startRange / 100;\r\n        const endPixels = this.clickProps.width * this.clickProps.endRange / 100;\r\n\r\n        const diff = (typeof event.clientX === 'number' ? event.clientX : event.touches[0].clientX) - this.clickX;\r\n\r\n        const newStartPixels = startPixels + diff;\r\n        const newEndPixels = endPixels + diff;\r\n\r\n        let newStartRange = newStartPixels * 100 / this.clickProps.width;\r\n        let newEndRange = newEndPixels * 100 / this.clickProps.width;\r\n        const diffRange = newEndRange - newStartRange;\r\n\r\n        let newProps;\r\n        if (this.clickedSide === 1) {\r\n            if (newStartRange < 0) {\r\n                newStartRange = 0;\r\n            }\r\n            if (newStartRange + 10 > this.clickProps.endRange) {\r\n                newStartRange = this.clickProps.endRange - 10;\r\n            }\r\n            if (newStartRange === this.clickProps.startRange) {\r\n                return;\r\n            }\r\n            newProps = { startRange: newStartRange, endRange: this.clickProps.endRange };\r\n        } else if (this.clickedSide === 3) {\r\n            if (newEndRange > 100) {\r\n                newEndRange = 100;\r\n            }\r\n            if (newEndRange - 10 < this.clickProps.startRange) {\r\n                newEndRange = this.clickProps.startRange + 10;\r\n            }\r\n            if (newEndRange === this.clickProps.newEndRange) {\r\n                return;\r\n            }\r\n            newProps = { endRange: newEndRange, startRange: this.clickProps.startRange };\r\n        } else {\r\n            if (newStartRange < 0) {\r\n                newStartRange = 0;\r\n                newEndRange = diffRange;\r\n            }\r\n            if (newEndRange > 100) {\r\n                newEndRange = 100;\r\n                newStartRange = 100 - diffRange;\r\n            }\r\n            if (newStartRange === this.clickProps.startRange) {\r\n                return;\r\n            }\r\n            newProps = { startRange: newStartRange, endRange: newEndRange };\r\n        }\r\n\r\n        if (newProps.startRange === this.clickProps.startRange && newProps.endRange === this.clickProps.endRange) {\r\n            return;\r\n        }\r\n\r\n        newProps.scaleRange = (newProps.endRange - newProps.startRange) / 100;\r\n        newProps.chartWidth = this.clickProps.width / newProps.scaleRange;\r\n        newProps.left = newProps.chartWidth * newProps.startRange / 100;\r\n        newProps.hoveredIndex = null;\r\n        this.setProps(newProps);\r\n    }\r\n\r\n    hiddenLines(props) {\r\n        props.lines.forEach((line) => {\r\n            if (props.hiddenLines.indexOf(line.id) > -1) {\r\n                this.paths[line.id].path.classList.add('--off');\r\n            } else {\r\n                this.paths[line.id].path.classList.remove('--off');\r\n            }\r\n        });\r\n    }\r\n\r\n    renderLines(props) {\r\n        this.navSvgWrapper.innerHTML = null;\r\n        this.svg = DomHelper.svg('svg', this.navSvgWrapper, 'nav-svg');\r\n        this.svg.setAttribute('width', props.width);\r\n        this.svg.setAttribute('height', NAV_HEIGHT_INNER);\r\n\r\n        this.paths = {};\r\n        let scaleY = (NAV_HEIGHT_INNER - NAV_STROKE_WIDTH) / props.allMaxY;\r\n\r\n        for (let index = 0; index < props.lines.length; index += 1) {\r\n            let line = props.lines[index];\r\n            if (props.stacked || props.percentage) {\r\n                line = props.lines[props.lines.length - 1 - index];\r\n            }\r\n\r\n            if (props.yScaled && index === props.lines.length - 1) {\r\n                scaleY = (NAV_HEIGHT_INNER - NAV_STROKE_WIDTH) / props.yScaledAllMaxY;\r\n            }\r\n\r\n            const path = DomHelper.svg('path', this.svg, 'nav-svg-path');\r\n\r\n            if (line.path) {\r\n                path.setAttribute('d', line.path);\r\n                path.setAttribute('transform', `scale(1,${scaleY * line.fixScaleY})`);\r\n            }\r\n\r\n            path.setAttribute('stroke', line.color);\r\n\r\n            if (line.type === 'area' || line.type === 'bar') {\r\n                path.setAttribute('fill', line.color);\r\n            } else {\r\n                path.setAttribute('fill', 'none');\r\n            }\r\n\r\n            this.paths[line.id] = { path };\r\n        }\r\n\r\n        this.navWrapper.style.transform = `translateX(-${100 - props.startRange}%)`;\r\n        this.navSelector.style.width = `calc(${props.endRange - props.startRange}% - 20px)`;\r\n    }\r\n\r\n    render() {\r\n        this.navSvgWrapper = DomHelper.div('nav-svg-wrapper', this.navigator);\r\n        this.navWrapper = DomHelper.div('nav-wrapper', this.navigator);\r\n\r\n        DomHelper.div('nav-left', this.navWrapper);\r\n        this.navSelector = DomHelper.div('nav-selector', this.navWrapper);\r\n        this.navSelector.onmousedown = event => this.mouseDown(event, 2);\r\n        this.navSelector.ontouchstart = event => this.mouseDown(event, 2);\r\n\r\n        DomHelper.div('nav-right', this.navWrapper);\r\n\r\n        this.navClickLeft = DomHelper.div('nav-click-left', this.navSelector);\r\n        this.navClickLeft.onmousedown = event => this.mouseDown(event, 1);\r\n        this.navClickLeft.ontouchstart = event => this.mouseDown(event, 1);\r\n\r\n        this.navClickRight = DomHelper.div('nav-click-right', this.navSelector);\r\n        this.navClickRight.onmousedown = event => this.mouseDown(event, 3);\r\n        this.navClickRight.ontouchstart = event => this.mouseDown(event, 3);\r\n    }\r\n\r\n    range(props) {\r\n        this.navWrapper.style.transform = `translateX(-${100 - props.startRange}%)`;\r\n        this.navSelector.style.width = `calc(${props.endRange - props.startRange}% - 20px)`;\r\n\r\n        let scaleY = (NAV_HEIGHT_INNER - NAV_STROKE_WIDTH) / props.allMaxY;\r\n\r\n        if (props.stacked || props.percentage || props.zoomInit) {\r\n            for (let index = 0; index < props.lines.length; index += 1) {\r\n                let line = props.lines[index];\r\n                if (props.stacked || props.percentage) {\r\n                    line = props.lines[props.lines.length - 1 - index];\r\n                }\r\n\r\n                if (props.yScaled && index === props.lines.length - 1) {\r\n                    scaleY = (NAV_HEIGHT_INNER - NAV_STROKE_WIDTH) / props.yScaledAllMaxY;\r\n                }\r\n\r\n                if (props.hiddenLines.indexOf(line.id) === -1 && line.path) {\r\n                    this.paths[line.id].path.setAttribute('d', line.path);\r\n                    this.paths[line.id].path.setAttribute('transform', `scale(1,${scaleY * line.fixScaleY})`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    update(newProps) {\r\n        if (newProps.zoomInit) {\r\n            this.renderLines(newProps);\r\n            if (newProps.hideNavigator) {\r\n                this.navigator.classList.add('--off');\r\n            } else {\r\n                this.navigator.classList.remove('--off');\r\n            }\r\n        }\r\n\r\n        this.hiddenLines(newProps);\r\n\r\n        requestAnimationFrame(() => {\r\n            this.range(newProps);\r\n            this.props = newProps;\r\n        });\r\n    }\r\n\r\n    init(newProps) {\r\n        this.render();\r\n        this.renderLines(newProps);\r\n        this.props = newProps;\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\n\r\nconst STYLES = `\r\n    .axis-x {\r\n        line-height: 25px;\r\n        color: #8E8E93;\r\n        font-size: 9px;\r\n        display: flex;\r\n        position: absolute;\r\n        left: 0;\r\n        height: 25px;\r\n        bottom: 10px;\r\n    }\r\n    .axis-x-item {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        margin-left: -30px;\r\n        text-align: center;\r\n        width: 60px;\r\n        transition: 0.2s opacity;\r\n    }\r\n    .axis-x-item.--show {\r\n        animation: axis-x-show 0.2s 1 ease-in-out;\r\n    }\r\n    .axis-x-item.--hide {\r\n        animation: axis-x-hide 0.2s 1 ease-in-out;\r\n    }\r\n    @keyframes axis-x-show {\r\n        0% {opacity:0;}\r\n        100%{opacity:1;}\r\n    }\r\n    @keyframes axis-x-hide {\r\n        0% {opacity:1;}\r\n        100%{opacity:0;}\r\n    }\r\n`;\r\n\r\nexport class AxisX {\r\n    constructor(props, setProps) {\r\n        this.setProps = setProps;\r\n        this.target = props.target;\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n        this.axisX = DomHelper.div('axis-x', this.target);\r\n        this.items = [];\r\n    }\r\n\r\n    render(props) {\r\n        const blockWidth = props.chartWidth / this.blockAmount;\r\n\r\n        let prev;\r\n        for (let i = 0; i < props.timeLine.length; i += 1) {\r\n            const position = i * props.chartWidth / (props.timeLine.length - 1);\r\n\r\n            if ((!prev && prev !== 0) || prev + blockWidth < position) {\r\n                if (!this.items[i]) {\r\n                    const date = new Date(props.timeLine[i]);\r\n                    let value;\r\n                    if (props.isZoomed) {\r\n                        value = `${date.getHours() > 9 ? date.getHours() : `0${date.getHours()}`}:${date.getMinutes() > 9 ? date.getMinutes() : `0${date.getMinutes()}`}`;\r\n                    } else {\r\n                        value = `${date.getDate()} ${props.monthsLabels[date.getMonth()].substring(0, 3)}`;\r\n                    }\r\n\r\n                    this.items[i] = DomHelper.div('axis-x-item --show', this.axisX, value);\r\n                } else {\r\n                    this.items[i].classList.remove('--hide');\r\n                    this.items[i].classList.add('--show');\r\n                }\r\n\r\n                this.items[i].style.left = `${position}px`;\r\n\r\n                prev = position;\r\n            } else if (this.items[i]) {\r\n                this.items[i].style.left = `${position}px`;\r\n                this.items[i].classList.remove('--show');\r\n\r\n                this.items[i].addEventListener('animationend', () => {\r\n                    if (this.items[i]) {\r\n                        this.axisX.removeChild(this.items[i]);\r\n                        this.items[i] = null;\r\n                    }\r\n                });\r\n                this.items[i].classList.add('--hide');\r\n            }\r\n        }\r\n    }\r\n\r\n    getBlockAmount(props) {\r\n        if (props.chartWidth / this.blockAmount > 90) {\r\n            this.blockAmount *= 2;\r\n        }\r\n        if (props.chartWidth / this.blockAmount < 45) {\r\n            this.blockAmount *= 0.5;\r\n        }\r\n    }\r\n\r\n    update(newProps) {\r\n        if (newProps.zoomInit) {\r\n            this.axisX.innerHTML = null;\r\n            this.items = [];\r\n\r\n            this.blockAmount = 2;\r\n            while (newProps.chartWidth / this.blockAmount * 2 > 90) {\r\n                this.blockAmount *= 2;\r\n            }\r\n        }\r\n\r\n        this.getBlockAmount(newProps);\r\n        this.render(newProps);\r\n    }\r\n\r\n    init(newProps) {\r\n        this.blockAmount = 2;\r\n        while (newProps.chartWidth / this.blockAmount * 2 > 90) {\r\n            this.blockAmount *= 2;\r\n        }\r\n        this.getBlockAmount(newProps);\r\n        this.render(newProps);\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\n\r\nconst STYLES = `\r\n    .axis-y {\r\n        position: absolute;\r\n        left: 16px;\r\n        top: 0;\r\n        bottom: 35px;\r\n        right: 16px;\r\n        opacity: 1;\r\n        transition: 0.2s opacity;\r\n        pointer-events: none;\r\n        z-index: 1000;\r\n    }\r\n    .axis-y.--off {\r\n        opacity: 0;\r\n    }\r\n    .--night .axis-y-item {\r\n        border-bottom: 1px solid rgba(255, 255, 255, 0.1);\r\n    }\r\n    .axis-y-item {\r\n        position: absolute;\r\n        left: 0;\r\n        right: 0;\r\n        border-bottom: 1px solid rgba(24, 45, 59, 0.1);\r\n        line-height: 20px;\r\n        font-size: 9px;\r\n        color: #8E8E93;\r\n    }\r\n    .axis-y-item.--right {\r\n        text-align: end;\r\n        border-bottom: 1px solid rgba(24, 45, 59, 0.05);\r\n    }\r\n    .--night .axis-y-item.--right {\r\n        border-bottom: 1px solid rgba(255, 255, 255, 0.05);\r\n    }\r\n    .axis-y-items {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n        right: 0;\r\n    }\r\n    .axis-y-items.--show-down {\r\n        animation: axis-show-up 0.2s 1 ease-in-out;\r\n    }\r\n    .axis-y-items.--show-up {\r\n        animation: axis-show-down 0.2s 1 ease-in-out;\r\n    }\r\n    .axis-y-items.--hide-down {\r\n        animation: axis-hide-up 0.2s 1 ease-in-out;\r\n    }\r\n    .axis-y-items.--hide-up {\r\n        animation: axis-hide-down 0.2s 1 ease-in-out;\r\n    }\r\n    @keyframes axis-show-up {\r\n        0% {transform:translateY(-30px);opacity:0;}\r\n        100%{transform:translateY(0);opacity:1;}\r\n    }\r\n    @keyframes axis-show-down {\r\n        0% {transform:translateY(30px);opacity:0;}\r\n        100%{transform:translateY(0);opacity:1;}\r\n    }\r\n    @keyframes axis-hide-up {\r\n        0% {transform:translateY(0);opacity:1;}\r\n        100%{transform:translateY(-30px);opacity:0;}\r\n    }\r\n    @keyframes axis-hide-down {\r\n        0% {transform:translateY(0);opacity:1;}\r\n        100%{transform:translateY(30px);opacity:0;}\r\n    }\r\n`;\r\n\r\nexport class AxisY {\r\n    constructor(props, setProps, isRight) {\r\n        this.isRight = isRight;\r\n        this.setProps = setProps;\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n        this.axisY = DomHelper.div('axis-y', props.target);\r\n    }\r\n\r\n    fillItems(axisItems, props) {\r\n        let blockHeight;\r\n        let amountBlocks;\r\n        if (props.percentage) {\r\n            amountBlocks = 5;\r\n            blockHeight = (props.chartHeight) / (amountBlocks - 1);\r\n        } else {\r\n            amountBlocks = 6;\r\n            blockHeight = (props.chartHeight - 20) / (amountBlocks - 1);\r\n        }\r\n\r\n        const scaleY = props.chartHeight / this.maxY;\r\n\r\n        for (let i = 1; i < amountBlocks; i += 1) {\r\n            let value = i * blockHeight / scaleY;\r\n\r\n            if (value > 1000000) {\r\n                value = `${(value / 1000000).toFixed(2)}KK`;\r\n            } else if (value > 1000) {\r\n                value = `${(value / 1000).toFixed(2)}K`;\r\n            } else {\r\n                value = `${Math.round(value)}`;\r\n            }\r\n\r\n            if (props.percentage) {\r\n                value = `${Math.round(i * 100 / (amountBlocks - 1))}`;\r\n            }\r\n\r\n            const axisItem = this.createItem(props, axisItems, value);\r\n            axisItem.style.bottom = i * blockHeight;\r\n        }\r\n    }\r\n\r\n    createItem(props, target, value) {\r\n        const item = DomHelper.div(`axis-y-item${this.isRight ? ' --right' : ''}`, target, value);\r\n        if (props.yScaled && !this.isRight) {\r\n            item.style.color = props.lines[0].color;\r\n        } else if (props.yScaled) {\r\n            item.style.color = props.lines[props.lines.length - 1].color;\r\n        }\r\n        return item;\r\n    }\r\n\r\n    updateAxis(props, isUp) {\r\n        const axisItems = DomHelper.div(`axis-y-items ${isUp ? '--show-up' : '--show-down'}`, this.axisY);\r\n        this.fillItems(axisItems, props);\r\n\r\n        this.axisItems.addEventListener('animationend', () => {\r\n            this.axisY.removeChild(this.axisItems);\r\n            this.axisItems = axisItems;\r\n        });\r\n\r\n        this.axisItems.classList.add(!isUp ? '--hide-up' : '--hide-down');\r\n    }\r\n\r\n    update(newProps) {\r\n        if (this.isRight && !newProps.yScaled) {\r\n            return;\r\n        }\r\n\r\n        if (newProps.lines.length === newProps.hiddenLines.length ||\r\n            (this.isRight && newProps.yScaled && newProps.hiddenLines.indexOf(newProps.lines[newProps.lines.length - 1].id) > -1) ||\r\n            (!this.isRight && newProps.yScaled && newProps.lines.length - 1 === newProps.hiddenLines.length && newProps.hiddenLines.indexOf(newProps.lines[newProps.lines.length - 1].id) === -1)) {\r\n            this.axisY.classList.add('--off');\r\n        } else {\r\n            this.axisY.classList.remove('--off');\r\n        }\r\n\r\n        clearTimeout(this.timeout);\r\n        this.timeout = setTimeout(() => {\r\n            const maxY = !this.isRight ? newProps.rangeMaxY : newProps.yScaledRangeMaxY;\r\n            if (maxY === this.maxY) {\r\n                return;\r\n            }\r\n\r\n            const isUp = maxY < this.maxY;\r\n            this.maxY = maxY;\r\n\r\n            this.updateAxis(newProps, isUp);\r\n        }, 50);\r\n    }\r\n\r\n    init(newProps) {\r\n        if (this.isRight && !newProps.yScaled) {\r\n            this.axisY.classList.add('--off');\r\n            return;\r\n        }\r\n\r\n        this.maxY = !this.isRight ? newProps.rangeMaxY : newProps.yScaledRangeMaxY;\r\n\r\n        const item0 = this.createItem(newProps, this.axisY, '0');\r\n        item0.style.bottom = 0;\r\n\r\n        this.axisItems = DomHelper.div('axis-y-items', this.axisY);\r\n        this.fillItems(this.axisItems, newProps);\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\n\r\nconst STROKE_WIDTH = 3;\r\n\r\nconst STYLES = `\r\n    .lines-svg {\r\n        opacity: 1;\r\n        transition: 0.2s opacity;\r\n        transform: scale(1, -1);\r\n    }\r\n    .lines-svg.--hover {\r\n        opacity: 0.5;\r\n    }\r\n    .line-svg-path {\r\n        vector-effect: non-scaling-stroke;\r\n        opacity: 1;\r\n        stroke-width: ${STROKE_WIDTH};\r\n        transition: 0.2s opacity;\r\n    }\r\n    .line-svg-path.--off {\r\n        opacity: 0;\r\n    }\r\n`;\r\n\r\nexport class Lines {\r\n    constructor(props, setProps) {\r\n        this.setProps = setProps;\r\n        this.target = props.target;\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n        this.svg = DomHelper.svg('svg', this.target, 'lines-svg');\r\n    }\r\n\r\n    render(props) {\r\n        this.svg.setAttribute('width', props.chartWidth);\r\n        this.svg.setAttribute('height', props.chartHeight);\r\n\r\n        // const scaleY = maxY / this.maxY;\r\n        // const viewBoxHeight = props.chartHeight * scaleY;\r\n\r\n        // this.prevValueTop = props.chartHeight - viewBoxHeight;\r\n        // this.prevValueHeight = props.chartHeight * scaleY;\r\n        // this.keyIndex = 0;\r\n\r\n        // this.svg.setAttribute('viewBox', `0 ${this.prevValueTop} ${props.width} ${this.prevValueHeight}`);\r\n\r\n        this.paths = {};\r\n        this.svg.innerHTML = null;\r\n        let scaleY = props.chartHeight / props.rangeMaxY;\r\n        const scaleX = props.width / props.chartWidth;\r\n\r\n        for (let index = 0; index < props.lines.length; index += 1) {\r\n            let line = props.lines[index];\r\n            if (props.stacked || props.percentage) {\r\n                line = props.lines[props.lines.length - 1 - index];\r\n            }\r\n\r\n            if (props.yScaled && index === props.lines.length - 1) {\r\n                scaleY = props.chartHeight / props.yScaledRangeMaxY;\r\n            }\r\n\r\n            const path = DomHelper.svg('path', this.svg, 'line-svg-path');\r\n\r\n            if (line.path) {\r\n                path.setAttribute('d', line.path);\r\n                path.setAttribute('transform', `scale(${1 / scaleX},${scaleY * line.fixScaleY})`);\r\n            }\r\n\r\n            path.setAttribute('stroke', line.color);\r\n\r\n            if (line.type === 'area' || line.type === 'bar') {\r\n                path.setAttribute('fill', line.color);\r\n            } else {\r\n                path.setAttribute('fill', 'none');\r\n            }\r\n\r\n            this.paths[line.id] = { path };\r\n        }\r\n    }\r\n\r\n    hiddenLines(props) {\r\n        props.lines.forEach((line) => {\r\n            const { path } = this.paths[line.id];\r\n            if (props.hiddenLines.indexOf(line.id) > -1) {\r\n                path.classList.add('--off');\r\n            } else {\r\n                path.classList.remove('--off');\r\n            }\r\n        });\r\n    }\r\n\r\n    updateScale(props) {\r\n        if ((props.hoveredIndex || props.hoveredIndex === 0) && props.lines[0].type === 'bar') {\r\n            this.svg.classList.add('--hover');\r\n        } else {\r\n            this.svg.classList.remove('--hover');\r\n        }\r\n\r\n        this.svg.setAttribute('width', props.chartWidth);\r\n\r\n        let scaleY = props.chartHeight / props.rangeMaxY;\r\n        const scaleX = props.width / props.chartWidth;\r\n\r\n        props.lines.forEach((line, index) => {\r\n            if (props.hiddenLines.indexOf(line.id) === -1) {\r\n                if (props.yScaled && index === props.lines.length - 1) {\r\n                    scaleY = props.chartHeight / props.yScaledRangeMaxY;\r\n                }\r\n\r\n                const { path } = this.paths[line.id];\r\n                if (line.path) {\r\n                    path.setAttribute('d', line.path);\r\n                    path.setAttribute('transform', `scale(${1 / scaleX},${scaleY * line.fixScaleY})`);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // updateViewBox(props) {\r\n    //     const startIndex = Math.floor(props.timeLine.length * props.startRange / 100);\r\n    //     const endIndex = Math.ceil(props.timeLine.length * props.endRange / 100);\r\n\r\n    //     let maxY = 0;\r\n    //     props.lines.forEach((line) => {\r\n    //         if (props.hiddenLines.indexOf(line.id) === -1) {\r\n    //             for (let i = startIndex; i <= endIndex; i += 1) {\r\n    //                 if (i >= 0 && i < line.column.length && maxY < line.column[i]) {\r\n    //                     maxY = line.column[i];\r\n    //                 }\r\n    //             }\r\n    //         }\r\n    //     });\r\n\r\n    //     const scaleY = maxY / this.maxY;\r\n    //     const viewBoxHeight = props.chartHeight * scaleY;\r\n\r\n    //     this.svg.setAttribute('width', props.chartWidth);\r\n\r\n    //     this.startValueTop = this.prevValueTop;\r\n    //     this.startValueHeight = this.prevValueHeight;\r\n    //     this.stepTop = (props.chartHeight - viewBoxHeight - this.prevValueTop) / 12;\r\n    //     this.stepHeight = (props.chartHeight * scaleY - this.prevValueHeight) / 12;\r\n    //     this.keyIndex += 1;\r\n\r\n\r\n    //     clearTimeout(this.timeout);\r\n    //     this.timeout = setTimeout(() => {\r\n    //         this.startAnimation(0, this.keyIndex, props);\r\n    //     }, 50);\r\n    // }\r\n\r\n    // startAnimation(index, key, props) {\r\n    //     if (this.keyIndex !== key || index > 11) {\r\n    //         return;\r\n    //     }\r\n\r\n    //     requestAnimationFrame(() => {\r\n    //         this.prevValueTop = this.startValueTop + this.stepTop * index;\r\n    //         this.prevValueHeight = this.startValueHeight + this.stepHeight * index;\r\n\r\n    //         this.svg.setAttribute('viewBox', `0 ${this.prevValueTop} ${props.width} ${this.prevValueHeight}`);\r\n    //         this.startAnimation(index + 1, key, props);\r\n    //     });\r\n    // }\r\n\r\n    update(newProps) {\r\n        if (newProps.zoomInit) {\r\n            this.render(newProps);\r\n        }\r\n\r\n        this.updateScale(newProps);\r\n        this.hiddenLines(newProps);\r\n    }\r\n\r\n    init(newProps) {\r\n        this.render(newProps);\r\n    }\r\n}\r\n","/* eslint-disable prefer-destructuring */\r\nimport { DomHelper } from './helpers';\r\n\r\nconst ARROW_ICON = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 21 21\"><g data-name=\"Group 1\"><path data-name=\"Rectangle 1\" fill=\"none\" d=\"M21 21H0V0h21z\"/><path data-name=\"Path 1\" d=\"M15.59 11.49l-8.6 8.6A1.4 1.4 0 1 1 5 18.11l7.6-7.61-7.6-7.6A1.4 1.4 0 0 1 6.99.9l8.6 8.6a1.4 1.4 0 0 1 0 1.98z\" fill=\"#D2D5D7\"/></g></svg>';\r\n\r\nconst STYLES = `\r\n    .tooltip {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 10px;\r\n        width: 140px;\r\n        box-shadow: 0px 0px 10px -3px rgba(0,0,0,0.75);\r\n        border-radius: 8px;\r\n        background-color:#fff;\r\n        opacity: 1;\r\n        transition: 0.2s opacity;\r\n        padding: 4px 10px;\r\n        font-size: 12px;\r\n        z-index: 1001;\r\n    }\r\n    .--night .tooltip {\r\n        background-color: #1C2533;\r\n        box-shadow: none;\r\n    }\r\n    .tooltip.--off {\r\n        opacity: 0;\r\n        pointer-events: none;\r\n    }\r\n    .tooltip-hover {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        border-left: 1px solid rgba(24, 45, 59, 0.1);\r\n        bottom: 35;\r\n        pointer-events: none;\r\n        opacity: 1;\r\n        transition: 0.2s opacity;\r\n    }\r\n    .--night .tooltip-hover {\r\n        border-left: 1px solid rgba(255, 255, 255, 0.1);\r\n    }\r\n    .tooltip-hover.--bar {\r\n        border: 0;\r\n    }\r\n    .tooltip-date {\r\n        font-weight: 600;\r\n        margin: 6px 0;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        pointer-events: none;\r\n    }\r\n    .tooltip-date > svg {\r\n        width: 12px;\r\n        height: 10px;\r\n    }\r\n    .tooltip-item {\r\n        display:flex;\r\n        margin: 6px 0;\r\n        justify-content: space-between;\r\n        pointer-events: none;\r\n    }\r\n    .tooltip-item > span {\r\n        display: flex;\r\n    }\r\n    .tooltip-item > span > span {\r\n        min-width: 25px;\r\n        text-align: right;\r\n        font-weight: 600;\r\n        margin-right: 7px;\r\n        display: block;\r\n    }\r\n    .tooltip-item > span.--all {\r\n        font-weight: 600;\r\n    }\r\n    .tooltip-hover.--off {\r\n        opacity: 0;\r\n    }\r\n    .hover-item {\r\n        background-color: #fff;\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 8px;\r\n        height: 8px;\r\n        pointer-events: none;\r\n        margin: 0 0 -6px -6px;\r\n        border-radius: 50%;\r\n        border: 2px solid;\r\n    }\r\n    .--night .hover-item {\r\n        background-color: #242F3E;\r\n    }\r\n    .hover-item.--area {\r\n        opacity: 1;\r\n    }\r\n    .hover-item.--bar {\r\n        left: -1px;\r\n        height: auto;\r\n        border-radius: 0;\r\n        border: 0;\r\n        margin: 0;\r\n    }\r\n`;\r\n\r\nexport class Tooltip {\r\n    constructor(props, setProps) {\r\n        this.target = props.target;\r\n        this.props = props;\r\n        this.setProps = setProps;\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n        this.tooltip = DomHelper.div('tooltip --off', props.target);\r\n\r\n        this.tooltip.onclick = event => this.clickTooltip(event);\r\n    }\r\n\r\n    render(props) {\r\n        this.target.addEventListener('mouseenter', event => this.mouseEnter(event));\r\n        this.target.addEventListener('mouseleave', event => this.mouseLeave(event));\r\n        this.target.addEventListener('mousemove', event => this.mouseMove(event));\r\n\r\n        this.target.addEventListener('touchmove', (event) => {\r\n            this.selectedIndex = null;\r\n            this.mouseMove(event);\r\n        });\r\n        this.target.addEventListener('touchend', (event) => {\r\n            this.mouseMove(event);\r\n            setTimeout(() => {\r\n                this.mouseClick(event);\r\n            });\r\n        });\r\n\r\n        this.target.addEventListener('click', event => this.mouseClick(event));\r\n        document.addEventListener('click', () => this.mouseLeave());\r\n\r\n        this.hover = DomHelper.div('tooltip-hover --off', this.target);\r\n        if (props.lines[0].type === 'bar') {\r\n            this.hover.classList.add('--bar');\r\n        }\r\n    }\r\n\r\n    clickTooltip(event) {\r\n        event.stopPropagation();\r\n\r\n        if (this.props.isZoomed) {\r\n            return;\r\n        }\r\n        \r\n        const zoomedIndex = this.selectedIndex;\r\n        this.selectedIndex = null;\r\n        this.setProps({ zoomedIndex });\r\n    }\r\n\r\n    mouseEnter() {\r\n        this.chartRect = this.target.getBoundingClientRect();\r\n    }\r\n\r\n    mouseLeave() {\r\n        this.selectedIndex = null;\r\n        this.setProps({ hoveredIndex: null });\r\n    }\r\n\r\n    mouseClick(event) {\r\n        event.stopPropagation();\r\n\r\n        if (this.props.hiddenLines.length === this.props.lines.length) {\r\n            return;\r\n        }\r\n\r\n        this.selectedIndex = this.props.hoveredIndex;\r\n        this.hoveredValue(this.props);\r\n    }\r\n\r\n    mouseMove(event) {\r\n        this.positions = [];\r\n\r\n        if (this.props.lines[0].type === 'bar') {\r\n            this.amount = this.props.timeLine.length;\r\n        } else {\r\n            this.amount = this.props.timeLine.length - 1;\r\n        }\r\n\r\n        const blockWidth = this.props.chartWidth / this.amount;\r\n        if (!this.chartRect) {\r\n            this.chartRect = this.target.getBoundingClientRect();\r\n        }\r\n\r\n        let clientX;\r\n        if (event && typeof event.clientX === 'number') {\r\n            clientX = event.clientX;\r\n        } else if (event && event.touches[0]) {\r\n            clientX = event.touches[0].clientX;\r\n        } else {\r\n            clientX = this.prevClientX;\r\n        }\r\n        clientX -= this.chartRect.left;\r\n\r\n        this.prevClientX = clientX;\r\n\r\n        let prev = -1;\r\n        let hoveredIndex;\r\n        for (let i = -1; i <= this.props.timeLine.length; i += 1) {\r\n            const position = i * blockWidth - this.props.left + this.props.chartIndent;\r\n            this.positions[i] = {\r\n                clientX,\r\n                position,\r\n            };\r\n            if (position > 0) {\r\n                if (prev < clientX && clientX < position) {\r\n                    if (Math.abs(prev - clientX) > (Math.abs(position - clientX))) {\r\n                        hoveredIndex = i;\r\n                    } else {\r\n                        hoveredIndex = i - 1;\r\n                    }\r\n                }\r\n                prev = position;\r\n            }\r\n        }\r\n\r\n        if (hoveredIndex < 0) {\r\n            hoveredIndex = 0;\r\n        }\r\n        if (hoveredIndex >= this.props.timeLine.length) {\r\n            hoveredIndex = this.props.timeLine.length - 1;\r\n        }\r\n\r\n        if (!event || this.props.hoveredIndex === hoveredIndex) {\r\n            return;\r\n        }\r\n\r\n        if (hoveredIndex || hoveredIndex === 0) {\r\n            this.setProps({ hoveredIndex });\r\n        } else {\r\n            this.setProps({ hoveredIndex: null });\r\n        }\r\n    }\r\n\r\n    hoveredValue(props) {\r\n        let index = props.hoveredIndex;\r\n        this.prevIndex = index;\r\n\r\n        if ((this.selectedIndex || this.selectedIndex === 0) && !props.isZoomed) {\r\n            index = this.selectedIndex;\r\n        }\r\n\r\n        if ((!index && index !== 0) || props.hiddenLines.length === props.lines.length || !this.positions[index]) {\r\n            this.hover.classList.add('--off');\r\n            this.tooltip.classList.add('--off');\r\n            return;\r\n        }\r\n\r\n        if (props.isZoomed || this.selectedIndex || this.selectedIndex === 0) {\r\n            this.tooltip.classList.remove('--off');\r\n        } else {\r\n            this.tooltip.classList.add('--off');\r\n        }\r\n\r\n        this.hover.classList.remove('--off');\r\n\r\n        if (this.positions[index].position > 200) {\r\n            this.tooltip.style.transform = `translateX(${this.positions[index].position - 160 - 17}px)`;\r\n        } else {\r\n            this.tooltip.style.transform = `translateX(${this.positions[index].position + 17}px)`;\r\n        }\r\n\r\n        this.tooltip.innerHTML = null;\r\n        const date = new Date(props.timeLine[index]);\r\n        let dateStr;\r\n        if (props.isZoomed) {\r\n            dateStr = `${date.getHours() > 9 ? date.getHours() : `0${date.getHours()}`}:${date.getMinutes() > 9 ? date.getMinutes() : `0${date.getMinutes()}`}`;\r\n        } else {\r\n            dateStr = `${props.daysLabels[date.getDay()].substring(0, 3)}, ${date.getDate()} ${props.monthsLabels[date.getMonth()].substring(0, 3)} ${date.getFullYear()}${ARROW_ICON}`;\r\n        }\r\n        DomHelper.div('tooltip-date', this.tooltip, dateStr);\r\n\r\n        props.lines.forEach((line) => {\r\n            if (props.hiddenLines.indexOf(line.id) === -1) {\r\n                let { name } = line;\r\n                if (props.percentage) {\r\n                    name = `<span>${Math.round(line.column[index] / props.allColumnData[index] * 100)}%</span>${name}`;\r\n                }\r\n\r\n                const item = DomHelper.div('tooltip-item', this.tooltip);\r\n                item.innerHTML = `<span>${name}</span><span style=\"color:${line.color}\">${line.column[index]}</span>`;\r\n            }\r\n        });\r\n\r\n        let scaleY = props.chartHeight / props.rangeMaxY;\r\n\r\n        this.hover.innerHTML = null;\r\n        this.hover.style.transform = `translateX(${this.positions[index].position}px)`;\r\n        let prevValue = 0;\r\n        const blockWidth = Math.ceil(props.chartWidth / this.amount) + 1;\r\n\r\n        props.lines.forEach((line, i) => {\r\n            if (props.yScaled && i === props.lines.length - 1) {\r\n                scaleY = props.chartHeight / props.yScaledRangeMaxY;\r\n            }\r\n\r\n            if (props.hiddenLines.indexOf(line.id) === -1) {\r\n                const hoverItem = DomHelper.div(`hover-item --${line.type}`, this.hover);\r\n                hoverItem.style.bottom = `${(prevValue + line.column[index]) * scaleY}px`;\r\n                hoverItem.style.borderColor = line.color;\r\n\r\n                if (line.type === 'bar') {\r\n                    hoverItem.style.top = `${props.chartHeight - (prevValue + line.column[index]) * scaleY}px`;\r\n                    hoverItem.style.bottom = 0;\r\n                    hoverItem.style.width = blockWidth;\r\n                    hoverItem.style.backgroundColor = line.color;\r\n                    hoverItem.style.zIndex = props.lines.length - i;\r\n                }\r\n\r\n                if (props.stacked) {\r\n                    prevValue += line.column[index];\r\n                }\r\n            }\r\n        });\r\n\r\n        if (props.stacked && !props.percentage) {\r\n            DomHelper.div('tooltip-item', this.tooltip, `<span>${'All'}</span><span class=\"--all\">${prevValue}</span>`);\r\n        }\r\n    }\r\n\r\n    update(newProps) {\r\n        if (newProps.zoomInit) {\r\n            this.tooltip.innerHTML = null;\r\n            this.hover.innerHTML = null;\r\n\r\n            this.positions = [];\r\n\r\n            this.props = newProps;\r\n            this.mouseMove();\r\n        }\r\n\r\n        requestAnimationFrame(() => {\r\n            this.hoveredValue(newProps);\r\n            this.props = newProps;\r\n        });\r\n    }\r\n\r\n    init(newProps) {\r\n        this.render(newProps);\r\n        this.props = newProps;\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\nimport { AxisX } from './axis-x';\r\nimport { AxisY } from './axis-y';\r\nimport { Lines } from './lines';\r\nimport { Tooltip } from './tooltip';\r\n\r\nconst STYLES = `\r\n    .chart-wrapper {\r\n        position: relative;\r\n        margin: 0 -16px;\r\n        cursor: pointer;\r\n    }\r\n    .svg-wrapper {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        will-change:transform;\r\n        pointer-events: none;\r\n    }\r\n    .message {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        align-items: center;\r\n        justify-content: center;\r\n        opacity: 0;\r\n        display: none;\r\n        transition: 0.2s opacity;\r\n    }\r\n    .message.--on {\r\n        display: flex;\r\n        opacity: 1;\r\n    }\r\n`;\r\n\r\nexport class ChartWrapper {\r\n    constructor(props, setProps) {\r\n        this.setProps = setProps;\r\n\r\n        DomHelper.style(props.shadow, STYLES);\r\n        this.chartWrapper = DomHelper.div('chart-wrapper', props.target);\r\n\r\n        this.render(props);\r\n    }\r\n\r\n    render(props) {\r\n        this.svgWrapper = DomHelper.div('svg-wrapper', this.chartWrapper);\r\n        this.message = DomHelper.div('message', this.chartWrapper, 'Please, choose at least the one line \\\\_()_/');\r\n        this.lines = new Lines({ ...props, target: this.svgWrapper }, newState => this.setProps(newState));\r\n        this.axisX = new AxisX({ ...props, target: this.svgWrapper }, newState => this.setProps(newState));\r\n        this.axisY = new AxisY({ ...props, target: this.chartWrapper }, newState => this.setProps(newState));\r\n        this.axisYright = new AxisY({ ...props, target: this.chartWrapper }, newState => this.setProps(newState), true);\r\n        this.tooltip = new Tooltip({ ...props, target: this.chartWrapper }, newState => this.setProps(newState));\r\n    }\r\n\r\n    updatePosition(props) {\r\n        this.svgWrapper.style.transform = `translateX(${-props.left + 16}px) translate3d(0,0,0)`;\r\n    }\r\n\r\n    update(newProps) {\r\n        if (newProps.lines.length === newProps.hiddenLines.length) {\r\n            this.message.classList.add('--on');\r\n        } else {\r\n            this.message.classList.remove('--on');\r\n        }\r\n\r\n        this.axisYright.update(newProps);\r\n        this.axisY.update(newProps);\r\n        this.lines.update(newProps);\r\n        this.tooltip.update(newProps);\r\n        this.axisX.update(newProps);\r\n        this.updatePosition(newProps);\r\n    }\r\n\r\n    init(newProps) {\r\n        this.chartWrapper.style.height = `${newProps.chartHeight + 35}px`;\r\n        if (newProps.percentage) {\r\n            this.chartWrapper.style.marginTop = '15px';\r\n        }\r\n\r\n        this.axisY.init(newProps);\r\n        this.axisYright.init(newProps);\r\n        this.lines.init(newProps);\r\n        this.tooltip.init(newProps);\r\n        this.axisX.init(newProps);\r\n        this.updatePosition(newProps);\r\n    }\r\n}\r\n","import { DomHelper } from './helpers';\r\nimport { Header } from './header';\r\nimport { Loading } from './loading';\r\nimport { Switchers } from './switchers';\r\nimport { Navigator } from './navigator';\r\nimport { ChartWrapper } from './chart-wrapper';\r\n\r\nconst STYLES = `\r\n    .chart{\r\n        overflow: hidden;\r\n        font-family: 'Open Sans', sans-serif;\r\n        padding: 0 16px;\r\n        color: #000;\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: relative;\r\n        -webkit-tap-highlight-color: rgba(0,0,0,0);\r\n        -webkit-tap-highlight-color: transparent;\r\n    }\r\n    .chart.--night {\r\n        color: #fff;\r\n    }\r\n`;\r\n\r\nclass SimpleChart extends HTMLElement {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            isZoomed: false,\r\n            timeLine: [],\r\n            startRange: 80,\r\n            endRange: 100,\r\n            chartIndent: 16,\r\n            isLoading: true,\r\n            lines: [],\r\n            hiddenLines: [],\r\n            daysLabels: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n            monthsLabels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\r\n        };\r\n\r\n        this.shadow = this.attachShadow({ mode: 'open' });\r\n\r\n        DomHelper.style(this.shadow, STYLES);\r\n        this.chart = DomHelper.div('chart', this.shadow);\r\n\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n        this.header = new Header({ shadow: this.shadow, target: this.chart, ...this.state }, newState => this.setState(newState));\r\n        this.chartWrapper = new ChartWrapper({ shadow: this.shadow, target: this.chart, ...this.state }, newState => this.setState(newState));\r\n        this.navigator = new Navigator({ shadow: this.shadow, target: this.chart, ...this.state }, newState => this.setState(newState));\r\n        this.switchers = new Switchers({ shadow: this.shadow, target: this.chart, ...this.state }, newState => this.setState(newState));\r\n        this.loading = new Loading({ shadow: this.shadow, target: this.chart, ...this.state }, newState => this.setState(newState));\r\n    }\r\n\r\n    createCache() {\r\n        if (this.state.maxCache) {\r\n            return;\r\n        }\r\n        this.state.maxCache = {};\r\n        this.state.lines.forEach((line) => {\r\n            const mapped = line.column.map((val, i) => ({ val, i }));\r\n            mapped.sort((a, b) => b.val - a.val);\r\n            this.state.maxCache[line.id] = mapped;\r\n        });\r\n    }\r\n\r\n    calculate() {\r\n        if (this.state.percentage || this.state.stacked) {\r\n            if (!this.allColumnDataCache) {\r\n                this.allColumnDataCache = {};\r\n            }\r\n\r\n            const key = `key${this.state.hiddenLines.sort().join('')}`;\r\n            if (!this.allColumnDataCache[key]) {\r\n                const allColumnData = [];\r\n                this.state.lines.forEach((line) => {\r\n                    if (this.state.hiddenLines.indexOf(line.id) === -1) {\r\n                        for (let i = 0; i < line.column.length; i += 1) {\r\n                            if (!allColumnData[i]) {\r\n                                allColumnData[i] = line.column[i];\r\n                            } else {\r\n                                allColumnData[i] += line.column[i];\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n\r\n                this.allColumnDataCache[key] = allColumnData;\r\n            }\r\n\r\n            this.state.allColumnData = this.allColumnDataCache[key];\r\n        }\r\n\r\n        const startIndex = Math.floor(this.state.timeLine.length * this.state.startRange / 100);\r\n        const endIndex = Math.ceil(this.state.timeLine.length * this.state.endRange / 100);\r\n\r\n        let rangeMaxY = 0;\r\n        let allMaxY = [];\r\n\r\n        let yScaledRangeMaxY = 0;\r\n        let yScaledAllMaxY = 0;\r\n\r\n        if (this.state.stacked) {\r\n            allMaxY = 0;\r\n            for (let i = 0; i < this.state.allColumnData.length; i += 1) {\r\n                if (i >= startIndex && i <= endIndex && this.state.allColumnData[i] > rangeMaxY) {\r\n                    rangeMaxY = this.state.allColumnData[i];\r\n                }\r\n                if (this.state.allColumnData[i] > allMaxY) {\r\n                    allMaxY = this.state.allColumnData[i];\r\n                }\r\n            }\r\n        } else {\r\n            this.state.lines.forEach((line, index) => {\r\n                if (this.state.hiddenLines.indexOf(line.id) === -1) {\r\n                    const maxCacheLine = this.state.maxCache[line.id];\r\n\r\n                    if (this.state.yScaled && index === this.state.lines.length - 1) {\r\n                        yScaledAllMaxY = maxCacheLine[0].val;\r\n                        for (let i = 0; i < maxCacheLine.length; i += 1) {\r\n                            const item = maxCacheLine[i];\r\n                            if (item.i >= startIndex && item.i <= endIndex) {\r\n                                yScaledRangeMaxY = item.val;\r\n                                break;\r\n                            }\r\n                        }\r\n                        return;\r\n                    }\r\n\r\n                    allMaxY.push(maxCacheLine[0].val);\r\n                    for (let i = 0; i < maxCacheLine.length; i += 1) {\r\n                        const item = maxCacheLine[i];\r\n                        if (item.val < rangeMaxY) {\r\n                            break;\r\n                        }\r\n\r\n                        if (item.i >= startIndex && item.i <= endIndex && rangeMaxY < item.val) {\r\n                            rangeMaxY = item.val;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.state.percentage) {\r\n            this.state.rangeMaxY = 1;\r\n            this.state.allMaxY = 1;\r\n        } else if (this.state.stacked) {\r\n            this.state.rangeMaxY = rangeMaxY;\r\n            this.state.allMaxY = allMaxY;\r\n        } else {\r\n            this.state.rangeMaxY = rangeMaxY;\r\n            this.state.allMaxY = Math.max(...allMaxY);\r\n        }\r\n\r\n        this.state.yScaledRangeMaxY = yScaledRangeMaxY;\r\n        this.state.yScaledAllMaxY = yScaledAllMaxY;\r\n    }\r\n\r\n    update(newState) {\r\n        const prevHiddenLines = this.state.hiddenLines;\r\n        this.state = { ...this.state, ...newState };\r\n        if (!this.inited) {\r\n            return;\r\n        }\r\n\r\n        this.createCache();\r\n        this.calculate();\r\n\r\n        if (((this.state.percentage || this.state.stacked) && prevHiddenLines.length !== this.state.hiddenLines.length) || this.state.zoomInit) {\r\n            this.prevColumnsData = [];\r\n            this.state.lines = this.state.lines.map((line) => {\r\n                if (this.state.hiddenLines.indexOf(line.id) === -1) {\r\n                    return { ...line, ...this.generatePath(this.state, line) };\r\n                }\r\n                return line;\r\n            });\r\n        }\r\n\r\n        this.header.update(this.state);\r\n        this.chartWrapper.update(this.state);\r\n        this.navigator.update(this.state);\r\n        this.switchers.update(this.state);\r\n        this.loading.update(this.state);\r\n\r\n        this.state.zoomInit = false;\r\n    }\r\n\r\n    init(newState) {\r\n        this.state = { ...this.state, ...newState };\r\n\r\n        this.createCache();\r\n        this.calculate();\r\n\r\n        this.prevColumnsData = [];\r\n        this.state.lines = this.state.lines.map(line => ({ ...line, ...this.generatePath(this.state, line) }));\r\n\r\n        this.header.init(this.state);\r\n        this.chartWrapper.init(this.state);\r\n        this.navigator.init(this.state);\r\n        this.switchers.init(this.state);\r\n        this.loading.init(this.state);\r\n\r\n        this.inited = true;\r\n    }\r\n\r\n    setState(newState) {\r\n        if (this.state.isZoomed && newState.isZoomed === false) {\r\n            this.prevState.hideNavigator = this.state.hideNavigator;\r\n            if (!this.prevState.hideNavigator) {\r\n                this.prevState.hiddenLines = this.state.hiddenLines;\r\n            }\r\n\r\n            this.state = { ...this.prevState };\r\n            this.state.zoomedIndex = null;\r\n            this.state.isLoading = false;\r\n            this.allColumnDataCache = { ...this.prevAllColumnDataCache };\r\n\r\n            this.state.hideNavigator = false;\r\n            this.state.isZoomed = false;\r\n            this.state.zoomInit = true;\r\n        }\r\n        if (!this.state.isZoomed && newState.zoomedIndex && !this.state.percentage) {\r\n            const zoomedDate = new Date(this.state.timeLine[newState.zoomedIndex]);\r\n\r\n            let url = this.state.dataUrl;\r\n            url += `/${zoomedDate.getFullYear()}-`;\r\n            url += `${zoomedDate.getMonth() > 8 ? zoomedDate.getMonth() + 1 : `0${zoomedDate.getMonth() + 1}`}`;\r\n            url += `/${zoomedDate.getDate() > 9 ? zoomedDate.getDate() : `0${zoomedDate.getDate()}`}.json`;\r\n\r\n            fetch(url).then(response => response.json()).then((data) => {\r\n                this.prevState = { ...this.state };\r\n                this.prevAllColumnDataCache = { ...this.allColumnDataCache };\r\n                this.allColumnDataCache = null;\r\n\r\n                const newZoomedState = {\r\n                    maxCache: null,\r\n                    zoomInit: true,\r\n                    isZoomed: true,\r\n                    startRange: 100 / 7 * 3 - (6 * 100 / this.state.width),\r\n                    endRange: 100 / 7 * 4 - (8 * 100 / this.state.width),\r\n                    chartIndent: 16,\r\n                    isLoading: false,\r\n                    hiddenLines: this.state.hiddenLines,\r\n\r\n                    lines: [],\r\n                    width: this.state.width,\r\n                    height: this.state.height,\r\n                    yScaled: data.y_scaled,\r\n                    percentage: data.percentage,\r\n                    stacked: data.stacked,\r\n                    title: this.state.title,\r\n                    hoveredIndex: null,\r\n                };\r\n\r\n                data.columns.forEach((column) => {\r\n                    if (column[0] === 'x') {\r\n                        newZoomedState.timeLine = column;\r\n                        newZoomedState.timeLine.shift();\r\n                    } else {\r\n                        const id = newZoomedState.lines.length;\r\n                        newZoomedState.lines.push({\r\n                            id: column[0],\r\n                            color: data.colors[column[0]],\r\n                            name: data.names[column[0]],\r\n                            column,\r\n                            type: data.types[column[0]],\r\n                        });\r\n                        newZoomedState.lines[id].column.shift();\r\n                    }\r\n                });\r\n\r\n                newZoomedState.hideNavigator = this.prevState.lines.length !== newZoomedState.lines.length;\r\n                if (newZoomedState.hideNavigator) {\r\n                    newZoomedState.endRange = 100;\r\n                    newZoomedState.startRange = 0;\r\n                }\r\n                newZoomedState.scaleRange = (newZoomedState.endRange - newZoomedState.startRange) / 100;\r\n                newZoomedState.chartWidth = newZoomedState.width / newZoomedState.scaleRange;\r\n                newZoomedState.chartHeight = newZoomedState.height;\r\n                newZoomedState.left = newZoomedState.chartWidth * newZoomedState.startRange / 100;\r\n\r\n                this.update(newZoomedState);\r\n            });\r\n\r\n            // eslint-disable-next-line no-param-reassign\r\n            newState.isLoading = true;\r\n        }\r\n\r\n        this.update(newState);\r\n    }\r\n\r\n    generatePath(state, line) {\r\n        let scaleX;\r\n        if (line.type === 'bar') {\r\n            scaleX = state.width / state.timeLine.length;\r\n        } else {\r\n            scaleX = state.width / (state.timeLine.length - 1);\r\n        }\r\n\r\n        let fixScaleY = 1;\r\n        if (!(state.percentage || state.stacked)) {\r\n            if (line.column[0] > 1000000) {\r\n                fixScaleY = 1000000;\r\n            } else if (line.column[0] > 1000) {\r\n                fixScaleY = 1000;\r\n            }\r\n        }\r\n\r\n        let value = line.column[0] / fixScaleY;\r\n        if (state.percentage) {\r\n            value = line.column[0] / state.allColumnData[0];\r\n        }\r\n        if (state.stacked && this.prevColumnsData[0]) {\r\n            value += this.prevColumnsData[0];\r\n        }\r\n        this.prevColumnsData[0] = value;\r\n\r\n        let path = '';\r\n        if (line.type === 'area') {\r\n            path = `M0 0 L 0 ${value}`;\r\n        } else if (line.type === 'bar') {\r\n            path = `M0 0 L 0 ${value}`;\r\n        } else {\r\n            path = `M0 ${value}`;\r\n        }\r\n\r\n        for (let i = 1; i < line.column.length; i += 1) {\r\n            value = line.column[i] / fixScaleY;\r\n            if (state.percentage) {\r\n                value = line.column[i] / state.allColumnData[i];\r\n            }\r\n            if (state.stacked && this.prevColumnsData[i]) {\r\n                value += this.prevColumnsData[i];\r\n            }\r\n            this.prevColumnsData[i] = value;\r\n\r\n            if (line.type === 'bar') {\r\n                path += ` L ${i * scaleX} ${this.prevColumnsData[i - 1]} L ${i * scaleX} ${value}`;\r\n            } else {\r\n                path += ` L ${i * scaleX} ${value}`;\r\n            }\r\n        }\r\n\r\n        if (line.type === 'area' || line.type === 'bar') {\r\n            path += ` L ${line.column.length * scaleX} ${value}`;\r\n            path += ` L ${line.column.length * scaleX} 0`;\r\n        }\r\n\r\n        return { path, fixScaleY };\r\n    }\r\n\r\n    static get observedAttributes() {\r\n        return ['is-night'];\r\n    }\r\n\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        if (name === 'is-night') {\r\n            if (newValue === 'true') {\r\n                this.chart.classList.add('--night');\r\n            } else {\r\n                this.chart.classList.remove('--night');\r\n            }\r\n            this.state.isNight = newValue === 'true';\r\n        }\r\n    }\r\n\r\n    connectedCallback() {\r\n        const dataUrl = this.getAttribute('url');\r\n        const width = parseInt(this.getAttribute('width'), 10);\r\n        const height = parseInt(this.getAttribute('height'), 10);\r\n        const title = this.getAttribute('title');\r\n        const isNight = this.getAttribute('is-night') === 'true';\r\n\r\n        fetch(`${dataUrl}/overview.json`).then(response => response.json()).then((data) => {\r\n            const newState = {\r\n                lines: [],\r\n                dataUrl,\r\n                width: width - this.state.chartIndent * 2,\r\n                height,\r\n                yScaled: data.y_scaled,\r\n                percentage: data.percentage,\r\n                stacked: data.stacked,\r\n                title,\r\n                isNight,\r\n            };\r\n\r\n            data.columns.forEach((column) => {\r\n                if (column[0] === 'x') {\r\n                    newState.timeLine = column;\r\n                    newState.timeLine.shift();\r\n                } else {\r\n                    const id = newState.lines.length;\r\n                    newState.lines.push({\r\n                        id: column[0],\r\n                        color: data.colors[column[0]],\r\n                        name: data.names[column[0]],\r\n                        column,\r\n                        type: data.types[column[0]],\r\n                    });\r\n                    newState.lines[id].column.shift();\r\n                }\r\n            });\r\n\r\n            newState.scaleRange = (this.state.endRange - this.state.startRange) / 100;\r\n            newState.chartWidth = newState.width / newState.scaleRange;\r\n            newState.chartHeight = newState.height;\r\n            newState.left = newState.chartWidth * this.state.startRange / 100;\r\n\r\n            this.init({ ...newState, isLoading: false });\r\n        });\r\n    }\r\n}\r\n\r\ncustomElements.define('simple-chart', SimpleChart);\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}